!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.designer=t():e.designer=t()}(window,function(){return function(e){function t(t){for(var i,r,a=t[0],o=t[1],s=0,c=[];s<a.length;s++)r=a[s],n[r]&&c.push(n[r][0]),n[r]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);for(l&&l(t);c.length;)c.shift()()}var i={},n={0:0};function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],i=n[e];if(0!==i)if(i)t.push(i[2]);else{var a=new Promise(function(t,r){i=n[e]=[t,r]});t.push(i[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=function(e){return r.p+""+({}[e]||e)+".bundle.js"}(e);var l=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(c);var i=n[e];if(0!==i){if(i){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.type=r,l.request=a,i[1](l)}n[e]=void 0}};var c=setTimeout(function(){o({type:"timeout",target:s})},12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},r.m=e,r.c=i,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/codebase/",r.oe=function(e){throw console.error(e),e};var a=window.webpackJsonpdesigner=window.webpackJsonpdesigner||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var l=o;return r(r.s=58)}([function(e,t,i){"use strict";function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}i.d(t,"d",function(){return W}),i.d(t,"a",function(){return w}),i.d(t,"b",function(){return u}),i.d(t,"c",function(){return b});var r=function(){},a=function(){function e(e){this.webixJet=!0,this.webix=e,this._events=[],this._subs={},this._data={}}var t=e.prototype;return t.getRoot=function(){return this._root},t.destructor=function(){this._detachEvents(),this._destroySubs(),this._events=this._container=this.app=this._parent=this._root=null},t.setParam=function(e,t,i){if(this._data[e]!==t&&(this._data[e]=t,this._segment.update(e,t,0),i))return this.show(null)},t.getParam=function(e,t){var i=this._data[e];if(void 0!==i||!t)return i;var n=this.getParentView();return n?n.getParam(e,t):void 0},t.getUrl=function(){return this._segment.suburl()},t.getUrlString=function(){return this._segment.toString()},t.getParentView=function(){return this._parent},t.$$=function(e){if("string"==typeof e){var t=this.getRoot();return t.queryView(function(i){return(i.config.id===e||i.config.localId===e)&&i.$scope===t.$scope},"self")}return e},t.on=function(e,t,i){var n=e.attachEvent(t,i);return this._events.push({obj:e,id:n}),n},t.contains=function(e){for(var t in this._subs){var i=this._subs[t].view;if(i===e||i.contains(e))return!0}return!1},t.getSubView=function(e){var t=this.getSubViewInfo(e);if(t)return t.subview.view},t.getSubViewInfo=function(e){var t=this._subs[e||"default"];return t?{subview:t,parent:this}:"_top"===e?(this._subs[e]={url:"",id:null,popup:!0},this.getSubViewInfo(e)):this._parent?this._parent.getSubViewInfo(e):null},t._detachEvents=function(){for(var e=this._events,t=e.length-1;t>=0;t--)e[t].obj.detachEvent(e[t].id)},t._destroySubs=function(){for(var e in this._subs){var t=this._subs[e].view;t&&t.destructor()}this._subs={}},t._init_url_data=function(){var e=this._segment.current();this._data={},this.webix.extend(this._data,e.params,!0)},t._getDefaultSub=function(){if(this._subs.default)return this._subs.default;for(var e in this._subs){var t=this._subs[e];if(!t.branch&&t.view&&"_top"!==e){var i=t.view._getDefaultSub();if(i)return i}}},t._routed_view=function(){var e=this.getParentView();if(!e)return!0;var t=e._getDefaultSub();return!(!t&&t!==this)&&e._routed_view()},e}();function o(e){"/"===e[0]&&(e=e.substr(1));for(var t=e.split("/"),i=[],n=0;n<t.length;n++){var r=t[n],a={},o=r.indexOf(":");if(-1===o&&(o=r.indexOf("?")),-1!==o){var s=r.substr(o+1).split(/[\:\?\&]/g),l=Array.isArray(s),c=0;for(s=l?s:s[Symbol.iterator]();;){var u;if(l){if(c>=s.length)break;u=s[c++]}else{if((c=s.next()).done)break;u=c.value}var d=u.split("=");a[d[0]]=decodeURIComponent(d[1])}}i[n]={page:o>-1?r.substr(0,o):r,params:a,isNew:!0}}return i}function s(e){var t=[],i=e,n=Array.isArray(i),r=0;for(i=n?i:i[Symbol.iterator]();;){var a;if(n){if(r>=i.length)break;a=i[r++]}else{if((r=i.next()).done)break;a=r.value}var o=a;t.push("/"+o.page);var s=l(o.params);s&&t.push("?"+s)}return t.join("")}function l(e){var t=[];for(var i in e)t.length&&t.push("&"),t.push(i+"="+encodeURIComponent(e[i]));return t.join("")}var c=function(){function e(e,t){this._next=1,this.route="string"==typeof e?{url:o(e),path:e}:e,this.index=t}var t=e.prototype;return t.current=function(){return this.route.url[this.index]},t.next=function(){return this.route.url[this.index+this._next]},t.suburl=function(){return this.route.url.slice(this.index)},t.shift=function(){return new e(this.route,this.index+this._next)},t.refresh=function(){for(var e=this.route.url,t=this.index+1;t<e.length;t++)e[t].isNew=!0},t.toString=function(){var e=s(this.suburl());return e?e.substr(1):""},t._join=function(e,t){var i=this.route.url;if(null===e)return i;var n=this.route.url;if(i=n.slice(0,this.index+(t?this._next:0)),e){i=i.concat(o(e));for(var r=0;r<i.length;r++)n[r]&&(i[r].view=n[r].view),n[r]&&i[r].page===n[r].page&&(i[r].isNew=!1)}return i},t.append=function(e){var t=this._join(e,!0);return this.route.path=s(t),this.route.url=t,this.route.path},t.show=function(e,t,i){var n=this,a=this._join(e,i);return new Promise(function(e,i){var o=s(a),l={url:a,redirect:o,confirm:Promise.resolve()},c=t?t.app:null;if(c&&!c.callEvent("app:guard",[l.redirect,t,l]))return void i(new r);l.confirm.catch(function(e){return i(e)}).then(function(){if(null!==l.redirect){if(l.redirect!==o)return c.show(l.redirect),void i(new r);n.route.path=o,n.route.url=a,e()}else i(new r)})})},t.size=function(e){this._next=e},t.split=function(){var t={url:this.route.url.slice(this.index+1),path:""};return t.url.length&&(t.path=s(t.url)),new e(t,0)},t.update=function(e,t,i){var n=this.route.url[this.index+(i||0)];if(!n)return this.route.url.push({page:"",params:{}}),this.update(e,t,i);""===e?n.page=t:n.params[e]=t,this.route.path=s(this.route.url)},e}(),u=function(e){function t(t,i){var n;return(n=e.call(this,t.webix)||this).app=t,n._children=[],n}n(t,e);var i=t.prototype;return i.ui=function(e,t){var i=(t=t||{}).container||e.container,n=this.app.createView(e);return this._children.push(n),n.render(i,this._segment,this),"object"!=typeof e||e instanceof a?n:n.getRoot()},i.show=function(e,t){if(t=t||{},"object"==typeof e){for(var i in e)this.setParam(i,e[i]);e=null}else{if("/"===e.substr(0,1))return this.app.show(e);if(0===e.indexOf("./")&&(e=e.substr(2)),0===e.indexOf("../")){var n=this.getParentView();return n?n.show(e.substr(3),t):this.app.show("/"+e.substr(3))}var r=this.getSubViewInfo(t.target);if(r){if(r.parent!==this)return r.parent.show(e,t);if(t.target&&"default"!==t.target)return this._renderFrameLock(t.target,r.subview,e)}else if(e)return this.app.show("/"+e)}return this._show(this._segment,e,this)},i._show=function(e,t,i){var n=this;return e.show(t,i,!0).then(function(){return n._init_url_data(),n._urlChange()}).then(function(){e.route.linkRouter&&(n.app.getRouter().set(e.route.path,{silent:!0}),n.app.callEvent("app:route",[e.route.path]))})},i.init=function(e,t){},i.ready=function(e,t){},i.config=function(){this.app.webix.message("View:Config is not implemented")},i.urlChange=function(e,t){},i.destroy=function(){},i.destructor=function(){this.destroy(),this._destroyKids(),this._root.destructor(),e.prototype.destructor.call(this)},i.use=function(e,t){e(this.app,this,t)},i.refresh=function(){this.getUrl();return this.destroy(),this._destroyKids(),this._destroySubs(),this._detachEvents(),this._container.tagName&&this._root.destructor(),this._segment.refresh(),this._render(this._segment)},i.render=function(e,t,i){var n=this;"string"==typeof t&&(t=new c(t,0)),this._segment=t,this._parent=i,this._init_url_data();var r="string"==typeof(e=e||document.body)?this.webix.toNode(e):e;return this._container!==r?(this._container=r,this._render(t)):this._urlChange().then(function(){return n.getRoot()})},i._render=function(e){var t=this,i=this.config();return i.then?i.then(function(i){return t._render_final(i,e)}):this._render_final(i,e)},i._render_final=function(e,t){var i,n=this,r=null,a=null,o=!1;if(this._container.tagName?a=this._container:(r=this._container).popup?(a=document.body,o=!0):a=this.webix.$$(r.id),!this.app||!a)return Promise.reject(null);var s=this._segment.current(),l={ui:{}};this.app.copyConfig(e,l.ui,this._subs),this.app.callEvent("app:render",[this,t,l]),l.ui.$scope=this,!r&&s.isNew&&s.view&&s.view.destructor();try{if(r&&!o){var c=a,u=c.getParentView();u&&"multiview"===u.name&&!l.ui.id&&(l.ui.id=c.config.id)}this._root=this.app.webix.ui(l.ui,a);var d=this._root;o&&d.setPosition&&!d.isVisible()&&d.show(),r&&(r.view&&r.view!==this&&r.view!==this.app&&r.view.destructor(),r.id=this._root.config.id,this.getParentView()||!this.app.app?r.view=this:r.view=this.app),s.isNew&&(s.view=this,s.isNew=!1),i=Promise.resolve(this._init(this._root,t)).then(function(){return n._urlChange().then(function(){return n._initUrl=null,n.ready(n._root,t.suburl())})})}catch(e){i=Promise.reject(e)}return i.catch(function(e){return n._initError(n,e)})},i._init=function(e,t){return this.init(e,t.suburl())},i._urlChange=function(){var e=this;this.app.callEvent("app:urlchange",[this,this._segment]);var t=[];for(var i in this._subs){var n=this._subs[i],r=this._renderFrameLock(i,n,null);r&&t.push(r)}return Promise.all(t).then(function(){return e.urlChange(e._root,e._segment.suburl())})},i._renderFrameLock=function(e,t,i){if(!t.lock){var n=this._renderFrame(e,t,i);n&&(t.lock=n.then(function(){return t.lock=null},function(){return t.lock=null}))}return t.lock},i._renderFrame=function(e,t,i){var n=this;if("default"===e){if(this._segment.next())return this._createSubView(t,this._segment.shift());t.view&&t.popup&&(t.view.destructor(),t.view=null)}if(null!==i&&(t.url=i),t.route){if(null!==i)return t.route.show(i,t.view).then(function(){return n._createSubView(t,t.route)});if(t.branch)return}var r=t.view;if(!r&&t.url){if("string"==typeof t.url)return t.route=new c(t.url,0),this._createSubView(t,t.route);"function"!=typeof t.url||r instanceof t.url||(r=new t.url(this.app,"")),r||(r=t.url)}if(r)return r.render(t,t.route||this._segment,this)},i._initError=function(e,t){return this.app&&this.app.error("app:error:initview",[t,e]),!0},i._createSubView=function(e,t){var i=this;return this.app.createFromURL(t.current()).then(function(n){return n.render(e,t,i)})},i._destroyKids=function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t]&&e[t].destructor&&e[t].destructor();this._children=[]},t}(a),d=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this)._ui=i.ui,n}return n(t,e),t.prototype.config=function(){return this._ui},t}(u),h=function(){function e(e,t,i){this.path="",this.app=i}var t=e.prototype;return t.set=function(e,t){this.path=e;var i=this.app;i.app.getRouter().set(i._segment.append(this.path),{silent:!0})},t.get=function(){return this.path},e}(),p=!0,f=function(e){function t(t){var i,n=(t||{}).webix||window.webix;return(i=e.call(this,n)||this).config=i.webix.extend({name:"App",version:"1.0",start:"/home"},t,!0),i.app=i.config.app,i.ready=Promise.resolve(),i._services={},i.webix.extend(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i),i.webix.EventSystem),i}n(t,e);var i=t.prototype;return i.getUrl=function(){return this._subSegment.suburl()},i.getUrlString=function(){return this._subSegment.toString()},i.getService=function(e){var t=this._services[e];return"function"==typeof t&&(t=this._services[e]=t(this)),t},i.setService=function(e,t){this._services[e]=t},i.destructor=function(){this.getSubView().destructor(),e.prototype.destructor.call(this)},i.copyConfig=function(e,t,i){if((e instanceof a||"function"==typeof e&&e.prototype instanceof a)&&(e={$subview:e}),void 0!==e.$subview)return this.addSubView(e,t,i);for(var n in t=t||(e instanceof Array?[]:{}),e){var r=e[n];if("function"==typeof r&&r.prototype instanceof a&&(r={$subview:r}),!r||"object"!=typeof r||r instanceof this.webix.DataCollection||r instanceof RegExp)t[n]=r;else if(r instanceof Date)t[n]=new Date(r);else{var o=this.copyConfig(r,r instanceof Array?[]:{},i);null!==o&&(t[n]=o)}}return t},i.getRouter=function(){return this.$router},i.clickHandler=function(e,t){if(e&&(t=t||e.target||e.srcElement)&&t.getAttribute){var i=t.getAttribute("trigger");if(i)return this._forView(t,function(e){return e.app.trigger(i)}),e.cancelBubble=!0,e.preventDefault();var n=t.getAttribute("route");if(n)return this._forView(t,function(e){return e.show(n)}),e.cancelBubble=!0,e.preventDefault()}var r=t.parentNode;r&&this.clickHandler(e,r)},i.getRoot=function(){return this.getSubView().getRoot()},i.refresh=function(){var e=this;return this._subSegment?this.getSubView().refresh().then(function(t){return e.callEvent("app:route",[e.getUrl()]),t}):Promise.resolve(null)},i.loadView=function(e){var t=this,i=this.config.views,n=null;if(""===e)return Promise.resolve(this._loadError("",new Error("Webix Jet: Empty url segment")));try{i&&"string"==typeof(n="function"==typeof i?i(e):i[e])&&(e=n,n=null),n||(n="_blank"===e?{}:this._loadViewDynamic(e))}catch(t){n=this._loadError(e,t)}return n.then||(n=Promise.resolve(n)),n=n.then(function(e){return e.__esModule?e.default:e}).catch(function(i){return t._loadError(e,i)})},i._forView=function(e,t){var i=this.webix.$$(e);i&&t(i.$scope)},i._loadViewDynamic=function(e){return null},i.createFromURL=function(e){var t=this;return e.isNew||!e.view?this.loadView(e.page).then(function(e){return t.createView(e,name)}):Promise.resolve(e.view)},i.createView=function(e,i){if("function"==typeof e){if(e.prototype instanceof t)return new e({app:this,name:i,router:h});if(e.prototype instanceof a)return new e(this,{name:i});e=e(this)}return e instanceof a?e:new d(this,{name:i,ui:e})},i.show=function(e){return this.render(this._container,e||this.config.start)},i.trigger=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.apply(e,i)},i.apply=function(e,t){this.callEvent(e,t)},i.action=function(e){return this.webix.bind(function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];this.apply(e,i)},this)},i.on=function(e,t){this.attachEvent(e,t)},i.use=function(e,t){e(this,null,t)},i.error=function(e,t){if(this.callEvent(e,t),this.callEvent("app:error",t),this.config.debug)for(var i=0;i<t.length;i++)if(console.error(t[i]),t[i]instanceof Error){var n=t[i].message;0===n.indexOf("Module build failed")?(n=n.replace(/\x1b\[[0-9;]*m/g,""),document.body.innerHTML="<pre style='font-size:16px; background-color: #ec6873; color: #000; padding:10px;'>"+n+"</pre>"):(n+="<br><br>Check console for more details",this.webix.message({type:"error",text:n,expire:-1}))}},i.render=function(e,t,i){var n=this;this._container="string"==typeof e?this.webix.toNode(e):e||document.body;var r=null;!this.$router?(p&&"tagName"in this._container&&(this.webix.event(document.body,"click",function(e){return n.clickHandler(e)}),p=!1),"string"==typeof t&&(t=new c(t,0)),this._subSegment=this._first_start(t),this._subSegment.route.linkRouter=!0):r="string"==typeof t?t:this.app?t.split().route.path||this.config.start:t.toString();var a=this.getSubView(),o=this._subSegment,s=o.show(r,a).then(function(){return n.createFromURL(o.current())}).then(function(t){return t.render(e,o)}).then(function(e){return n.$router.set(o.route.path,{silent:!0}),n.callEvent("app:route",[n.getUrl()]),e});return this.ready=this.ready.then(function(){return s}),s},i.getSubView=function(){if(this._subSegment){var e=this._subSegment.current().view;if(e)return e}return new u(this,{})},i._first_start=function(e){var t=this;this._segment=e;if(this.$router=new this.config.router(function(e){return setTimeout(function(){t.show(e).catch(function(e){if(!(e instanceof r))throw e})},1)},this.config,this),this._container===document.body&&!1!==this.config.animation){var i=this._container;this.webix.html.addCss(i,"webixappstart"),setTimeout(function(){t.webix.html.removeCss(i,"webixappstart"),t.webix.html.addCss(i,"webixapp")},10)}if(e)this.app&&(e.current().view=this,e.next()?(e.refresh(),e=e.split()):e=new c(this.config.start,0));else{var n=this.$router.get();n||(n=this.config.start,this.$router.set(n,{silent:!0})),e=new c(n,0)}return e},i._loadError=function(e,t){return this.error("app:error:resolve",[t,e]),{template:" "}},i.addSubView=function(e,t,i){var n=!0!==e.$subview?e.$subview:null,r=e.name||(n?this.webix.uid():"default");return t.id=e.id||"s"+this.webix.uid(),(i[r]={id:t.id,url:n,branch:e.branch,popup:e.popup}).popup?null:t},t}(a),v=function(){function e(e,t){var i=this;this.config=t||{},this._detectPrefix(),this.cb=e,window.onpopstate=function(){return i.cb(i.get())}}var t=e.prototype;return t.set=function(e,t){var i=this;if(this.config.routes){var n=e.split("?",2);for(var r in this.config.routes)if(this.config.routes[r]===n[0]){e=r+(n.length>1?"?"+n[1]:"");break}}this.get()!==e&&window.history.pushState(null,null,this.prefix+this.sufix+e),t&&t.silent||setTimeout(function(){return i.cb(e)},1)},t.get=function(){var e=this._getRaw().replace(this.prefix,"").replace(this.sufix,"");if(e="/"!==e&&"#"!==e?e:"",this.config.routes){var t=e.split("?",2),i=this.config.routes[t[0]];i&&(e=i+(t.length>1?"?"+t[1]:""))}return e},t._detectPrefix=function(){var e=this.config.routerPrefix;this.sufix="#"+(void 0===e?"!":e),this.prefix=document.location.href.split("#",2)[0]},t._getRaw=function(){return document.location.href},e}(),g=!1;function m(e){if(!g&&e){g=!0;var t=window;t.Promise||(t.Promise=e.promise);var i=e.version.split(".");10*i[0]+1*i[1]<53&&(e.ui.freeze=function(t){var i=t();return i&&i.then?i.then(function(t){return e.ui.$freeze=!1,e.ui.resize(),t}):(e.ui.$freeze=!1,e.ui.resize()),i});var n=e.ui.baselayout.prototype.addView,r=e.ui.baselayout.prototype.removeView,a={addView:function(e,t){var i=this;if(!this.$scope||!this.$scope.webixJet||e.queryView)return n.apply(this,arguments);var r=function(){var r=i.$scope,a={};e=r.app.copyConfig(e,{},a),n.apply(i,[e,t]);var o=function(e){r._renderFrame(e,a[e],null).then(function(){r._subs[e]=a[e]})};for(var s in a)o(s);return{v:e.id}}();return"object"==typeof r?r.v:void 0},removeView:function(){if(r.apply(this,arguments),this.$scope&&this.$scope.webixJet){var t=this.$scope._subs;for(var i in t){var n=t[i];e.$$(n.id)||(n.view.destructor(),delete t[i])}}}};e.extend(e.ui.layout.prototype,a,!0),e.extend(e.ui.baselayout.prototype,a,!0),e.protoUI({name:"jetapp",$init:function(t){this.$app=new this.app(t);var i=e.uid().toString();for(var n in t.body={id:i},this.$ready.push(function(){this.$app.render({id:i})}),this.$app){var r=this.$app[n];"function"!=typeof r||this[n]||(this[n]=r.bind(this.$app))}}},e.ui.proxy)}}var w=function(e){function t(t){var i;return t.router=t.router||v,m((i=e.call(this,t)||this).webix),i}return n(t,e),t.prototype._loadViewDynamic=function(e){return e=e.replace(/\./g,"/"),i(48)("./"+e)},t}(f),b=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i._detectPrefix=function(){this.prefix="",this.sufix=this.config.routerPrefix||""},i._getRaw=function(){return document.location.pathname+(document.location.search||"")},t}(v);function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function x(e,t,i){for(var n in e)y(e,n)&&t.call(i||e,e[n],n,e)}function _(e){e="Warning: "+e,"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(e){}}var S=String.prototype.replace,C=String.prototype.split,k="||||",E=function(e){var t=e%10;return 11!==e&&1===t?0:2<=t&&t<=4&&!(e>=12&&e<=14)?1:2},$={arabic:function(e){if(e<3)return e;var t=e%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:E,chinese:function(){return 0},croatian:E,french:function(e){return e>1?1:0},german:function(e){return 1!==e?1:0},russian:E,lithuanian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=9&&(e%100<11||e%100>19)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){if(1===e)return 0;var t=e%10;return 2<=t&&t<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0},slovenian:function(e){var t=e%100;return 1===t?0:2===t?1:3===t||4===t?2:3}},D={arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]};function L(e){var t,i=(t={},x(D,function(e,i){x(e,function(e){t[e]=i})}),t);return i[e]||i[C.call(e,/-/,1)[0]]||i.en}function j(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var I=/\$/g,M="$$",U=/%\{(.*?)\}/g;function V(e,t,i,n){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var r=e,a=n||U,o="number"==typeof t?{smart_count:t}:t;if(null!=o.smart_count&&r){var s=C.call(r,k);r=(s[function(e,t){return $[L(e)](t)}(i||"en",o.smart_count)]||s[0]).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}return r=S.call(r,a,function(e,t){return y(o,t)&&null!=o[t]?S.call(o[t],I,M):e})}function P(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var i=t.allowMissing?V:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:i,this.warn=t.warn||_,this.tokenRegex=function(e){var t=e&&e.prefix||"%{",i=e&&e.suffix||"}";if(t===k||i===k)throw new RangeError('"'+k+'" token is reserved for pluralization');return new RegExp(j(t)+"(.*?)"+j(i),"g")}(t.interpolation)}P.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},P.prototype.extend=function(e,t){x(e,function(e,i){var n=t?t+"."+i:i;"object"==typeof e?this.extend(e,n):this.phrases[n]=e},this)},P.prototype.unset=function(e,t){"string"==typeof e?delete this.phrases[e]:x(e,function(e,i){var n=t?t+"."+i:i;"object"==typeof e?this.unset(e,n):delete this.phrases[n]},this)},P.prototype.clear=function(){this.phrases={}},P.prototype.replace=function(e){this.clear(),this.extend(e)},P.prototype.t=function(e,t){var i,n,r=null==t?{}:t;if("string"==typeof this.phrases[e])i=this.phrases[e];else if("string"==typeof r._)i=r._;else if(this.onMissingKey){n=(0,this.onMissingKey)(e,r,this.currentLocale,this.tokenRegex)}else this.warn('Missing translation for key: "'+e+'"'),n=e;return"string"==typeof i&&(n=V(i,r,this.currentLocale,this.tokenRegex)),n},P.prototype.has=function(e){return y(this.phrases,e)},P.transformPhrase=function(e,t,i){return V(e,t,i)};var A=P;function R(e,t,i){if(t.urls)i=t.urls[i]||i;else if(t.param){var n;(n={})[t.param]=i,i=n}e.show(i)}var F={good:"check",error:"warning",saving:"refresh fa-spin"},T={good:"Ok",error:"Error",saving:"Connecting..."};function O(e,t,i){for(var n=0;n<i.length;n++)e[i[n]]=t[n+1]?t[n+1].page:""}var H=window.webix;H&&m(H);var W={UnloadGuard:function(e,t,i){t.on(e,"app:guard",function(e,n,a){if(n===t||n.contains(t)){var o=i();a.confirm=!1===o?Promise.reject(new r):a.confirm.then(function(){return o})}})},Locale:function(e,t,n){var r=(n=n||{}).storage,a=r?r.get("lang")||"en":n.lang||"en";function o(t,i,o){i.__esModule&&(i=i.default);var s={phrases:i};n.polyglot&&e.webix.extend(s,n.polyglot);var c=l.polyglot=new A(s);if(c.locale(t),l._=e.webix.bind(c.t,c),a=t,r&&r.put("lang",a),n.webix){var u=n.webix[t];u&&e.webix.i18n.setLocale(u)}return o?Promise.resolve():e.refresh()}function s(e,t){if(!1!==n.path){var r=(n.path?n.path+"/":"")+e;o(e,i(55)("./"+r),t)}}var l={getLang:function(){return a},setLang:s,setLangData:o,_:null,polyglot:null};e.setService("locale",l),s(a,!0)},Menu:function(e,t,i){var n=t.getSubViewInfo().parent,r=t.$$(i.id||i),a=!1;r.attachEvent("onchange",function(){a||R(n,i,this.getValue())}),r.attachEvent("onafterselect",function(){if(!a){var e=null;r.setValue?e=this.getValue():r.getSelectedId&&(e=r.getSelectedId()),R(n,i,e)}}),t.on(e,"app:route",function(){var e="";if(i.param)e=t.getParam(i.param,!0);else{var o=n.getUrl()[1];o&&(e=o.page)}e&&(a=!0,r.setValue&&r.getValue()!==e?r.setValue(e):r.select&&r.exists(e)&&r.getSelectedId()!==e&&r.select(e),a=!1)})},Theme:function(e,t,i){var n=(i=i||{}).storage,r=n?n.get("theme")||"flat-default":i.theme||"flat-default",a={getTheme:function(){return r},setTheme:function(t,i){for(var a=t.split("-"),o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var l=o[s].getAttribute("title");l&&(l===t||l===a[0]?o[s].disabled=!1:o[s].disabled=!0)}e.webix.skin.set(a[0]),e.webix.html.removeCss(document.body,"theme-"+r),e.webix.html.addCss(document.body,"theme-"+t),r=t,n&&n.put("theme",t),i||e.refresh()}};e.setService("theme",a),a.setTheme(r,!0)},User:function(e,t,i){var n=(i=i||{}).login||"/login",r=i.logout||"/logout",a=i.afterLogin||e.config.start,o=i.afterLogout||"/login",s=i.ping||3e5,l=i.model,c=i.user,u={getUser:function(){return c},getStatus:function(e){return e?l.status().catch(function(){return null}).then(function(e){c=e}):null!==c},login:function(t,i){return l.login(t,i).then(function(t){if(c=t,!t)throw new Error("Access denied");e.callEvent("app:user:login",[c]),e.show(a)})},logout:function(){return c=null,l.logout().then(function(t){return e.callEvent("app:user:logout",[]),t})}};function d(e,t){e===r?(u.logout(),t.redirect=o):e===n||u.getStatus()||(t.redirect=n)}e.setService("user",u),e.attachEvent("app:guard",function(e,t,n){return!(!i.public||!i.public(e))||(void 0===c&&(n.confirm=u.getStatus(!0).then(function(){return d(e,n)})),d(e,n))}),s&&setInterval(function(){return u.getStatus(!0)},s)},Status:function(e,t,i){var n="good",r=0,a=!1,o=i.expire;o||!1===o||(o=2e3);var s=i.texts||T,l=i.icons||F;function c(e){var r=t.$$(i.target);r&&(e||(e="<div class='status_"+n+"'><span class='webix_icon fa-"+l[n]+"'></span> "+s[n]+"</div>"),r.setHTML(e))}function u(){r--,f("good")}function d(e){r--,f("error",e)}function h(e){r++,f("saving"),e&&e.then&&e.then(u,d)}function p(){0===r&&c(" ")}function f(t,i){r<0&&(r=0),"saving"===t?(n="saving",c()):(a="error"===t,0===r&&(n=a?"error":"good",a?e.error("app:error:server",[i.responseText||i]):o&&setTimeout(p,o),c()))}function v(i){var n=e.webix.dp(i);n&&(t.on(n,"onAfterDataSend",h),t.on(n,"onAfterSaveError",function(e,t,i){return d(i)}),t.on(n,"onAfterSave",u))}"string"==typeof i&&(i={target:i}),e.setService("status",{getStatus:function(){return n},setStatus:f,track:v}),i.remote&&t.on(e.webix,"onRemoteCall",h),i.ajax&&t.on(e.webix,"onBeforeAjax",function(e,t,i,n,r,a,o){h(o)}),i.data&&v(i.data)},UrlParam:function(e,t,i){var n=i.route||i,r={};t.on(e,"app:urlchange",function(e,i){t===e&&(O(r,i.suburl(),n),i.size(n.length+1))});var a=t.setParam,o=t.getParam;t.setParam=function(e,i,o){var s=n.indexOf(e);return s>=0?(r[e]=i,this._segment.update("",i,s+1),o?t.show(null):void 0):a.call(this,e,i,o)},t.getParam=function(e,t){var i=r[e];return void 0!==i?i:o.call(this,e,t)},O(r,t.getUrl(),n)}},B=window;B.Promise||(B.Promise=B.webix.promise)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={suggest:"<span class='webix_icon wxi-menu-down'></span>",drag:"<span class='webix_icon list_left_icon mdi mdi-drag-vertical'></span>",trash:"<span class='webix_icon list_right_icon trash_icon wxi-trash'></span>",up:"<span class='webix_icon mdi mdi-menu-up'></span>",down:"<span class='webix_icon mdi mdi-menu-down'></span>",tune:"<span class='webix_icon mdi mdi-tune'></span>",cat:"<span class='webix_icon mdi mdi-cat'></span>",tea:"<span class='webix_icon mdi mdi-tea-outline'></span>",add:"<span class='webix_icon wxi-plus'></span>",menu:"<span class='webix_icon wxi-dots'></span>"}},function(e,t,i){"use strict";function n(e){return webix.extend({view:"template",template:"You can place any widget here..",role:"placeholder"},e||{},!0)}i.d(t,"a",function(){return n})},function(e,t,i){"use strict";function n(e,t){var i=0,n="",r={};for(var a in e)if("$enable"===a)n=!!e[a];else if("$blank"===e[a]||""===e[a])r[a]="";else{i++;var o=t.getItem?t.getItem(a):t.elements[a].config;o&&"number"==o.datatype?isNaN(1*e[a])?i--:r[a]=1*e[a]:o&&"array"==o.datatype?r[a]=e[a].split(","):o&&"boolean"==o.datatype?r[a]=!!e[a]:"true"===e[a]||"false"===e[a]?r[a]="true"==e[a]:r[a]=e[a]}return i&&!1!==n?r:!!n||""}i.d(t,"b",function(){return n}),i.d(t,"a",function(){return r});var r={columns:[{name:"$id",view:"text",label:"ID",descr:"the id of the column"},{name:"header",view:"text",label:"Header",descr:"specifies the header of the column"},{name:"footer",view:"text",label:"Footer",descr:"specifies the footer of the column"},{name:"template",view:"text",label:"Template",descr:"the data template"},{template:"Sizes",type:"section"},{name:"width",view:"text",label:"Width",datatype:"number",descr:"the width of the column"},{name:"adjust",view:"combo",label:"Adjust",descr:"adjusts the width of the column to fit the related content size",options:[{id:"$blank",value:""},{id:"data",value:"data"},{id:"header",value:"header"},{id:"false",value:"false"}]},{name:"fillspace",view:"switch",label:"Fillspace",datatype:"boolean",descr:"forces the column to widen for filling the unused table space"},{template:"Interaction with users",type:"section"},{name:"sort",view:"combo",label:"Sort",descr:"enables sorting for the column and assigns one of predefined sorting types or the name of a sorting function",options:[{id:"$blank",value:""},{id:"int",value:"int"},{id:"date",value:"date"},{id:"string",value:"string"},{id:"string_strict",value:"string_strict"},{id:"false",value:"false"}]},{name:"editor",view:"combo",label:"Editor",descr:"the type of the column editors",options:[{id:"$blank",value:""},{id:"text",value:"text"},{id:"password",value:"password"},{id:"popup",value:"popup"},{id:"date",value:"date"},{id:"color",value:"color"}]},{template:"Display",type:"section"},{name:"css",view:"text",label:"CSS",descr:"CSS that will be applied to the column"},{name:"math",view:"text",label:"Math",descr:"the math formula that applies to all cells of the column"},{name:"hidden",view:"switch",label:"Hidden",datatype:"boolean",descr:""}],elements:[{name:"$id",view:"text",label:"ID",descr:"the ID of the element"},{template:"Display",type:"section"},{name:"label",view:"text",label:"Label",descr:"the text label displayed on the left"},{name:"value",view:"text",label:"Value",descr:"the text label displayed on the left"},{name:"type",view:"combo",label:"Type",descr:"the editor type initialized on clicking the element",options:[{id:"$blank",value:""},{id:"label",value:"label"},{id:"text",value:"text"},{id:"password",value:"password"},{id:"combo",value:"combo"},{id:"select",value:"select"},{id:"checkbox",value:"checkbox"},{id:"color",value:"color"},{id:"popup",value:"popup"}]},{name:"options",view:"text",label:"Options",datatype:"array",descr:"the collection of options (select editors only)",format:{parse:function(e){return webix.isArray(e)?e.join(","):e},edit:function(e){return e}}}],type:[{template:"Sizes",type:"section"},{name:"width",view:"text",label:"Width",datatype:"number",descr:"the width of the items list"},{name:"height",view:"text",label:"Height",datatype:"number",descr:"the height of an item in the component"},{template:"Display",type:"section"},{name:"css",view:"text",label:"Css",datatype:"string",descr:"the name of a css class that will be applied to component's items (the default name of the applied class is 'default')"},{name:"template",view:"text",label:"Template",datatype:"string",descr:"an html template that will define item presentation in the component"}],tooltip:[{name:"$enable",view:"switch",label:"Enable",descr:"enables the default tooltip that displays value of a data item or a control"},{template:"Position",type:"section"},{name:"dx",view:"text",label:"Dx",datatype:"number",descr:" X coordinate relative to the mouse pointer"},{name:"dy",view:"text",label:"Dy",datatype:"number",descr:" Y coordinate relative to the mouse pointer"},{template:"Display",type:"section"},{name:"css",view:"text",label:"Css",datatype:"string",descr:"CSS class apllied to the tooltip"},{name:"template",view:"text",label:"Template",datatype:"string",descr:"adds a tooltip with text, HTML and any values from a data item or control configuration"}],delimiter:[{name:"rows",view:"text",label:"Rows",datatype:"string",descr:"the rows delimiter"},{name:"cols",view:"text",label:"Cols",datatype:"string",descr:"the columns delimiter"}],filterMode:[{name:"showSubItems",view:"switch",label:"ShowSubItems",datatype:"boolean",descr:"defines whether the tree should display children of the filtered items (true) (even if they don't match the filtering condition)"},{name:"openParents",view:"switch",label:"OpenParents",datatype:"boolean",descr:"defines whether parents of the filtered items should be expanded (even if they don't match the filtering condition) so that user can effortlessly see the result of filtering"},{name:"level",view:"text",label:"Level",datatype:"number",descr:"sets the nesting level to filter items from (one-based numbering)"}],headermenu:[{name:"$enable",view:"switch",label:"Enable",descr:"enables the default headermenu. By default it is enabled by a right click over any column header while clicks on menu items change the state of the corresponding columns"},{template:"Sizes",type:"section"},{name:"width",view:"text",label:"Width",datatype:"number",descr:"the width of the popup in pixels"},{name:"height",view:"text",label:"Height",datatype:"number",descr:"the height of the popup in pixels"},{name:"autoheight",view:"switch",label:"Autoheight",datatype:"boolean",descr:"if true, adjusts the popup height to the number of menu items"},{name:"autowidth ",view:"switch",label:"Autowidth ",datatype:"boolean",descr:"if true, adjusts the popup width to show all menu items"},{template:"Display",type:"section"},{name:"scroll",view:"switch",label:"Scroll",datatype:"boolean",descr:"if true, enables a scrollbar"},{name:"yCount",view:"text",label:"YCount",datatype:"number",descr:"the number of menu items to show"},{name:"template",view:"text",label:"Template",datatype:"string",descr:"the template of menu items (if you need to show a property other than value in the list)"}],item:[{template:"Sizes",type:"section"},{name:"radius",view:"text",label:"Radius",datatype:"number",descr:"the marker radius in pixels"},{name:"borderWidth",view:"text",label:"BorderWidth",datatype:"number",descr:"the width of the border line in pixels"},{template:"Display",type:"section"},{name:"shadow",view:"switch",label:"Shadow",datatype:"boolean",descr:"enables the marker shadow"},{name:"alpha",view:"text",label:"Alpha",datatype:"number",descr:"the marker opacity"},{name:"color",view:"colorpicker",editable:!0,label:"Color",datatype:"string",descr:"the inner color of a marker"},{name:"borderColor",view:"colorpicker",editable:!0,label:"BorderColor",datatype:"string",descr:"the outer color of a marker"},{name:"type",view:"combo",label:"Type",datatype:"string",descr:"the shape of a marker",options:[{id:"$blank",value:""},{id:"round",value:"round"},{id:"triangle",value:"triangle"},{id:"diamond",value:"diamond"},{id:"square",value:"square"}]}],line:[{name:"width",view:"text",label:"Width",datatype:"number",descr:"the line width"},{name:"color",view:"colorpicker",editable:!0,label:"Color",datatype:"string",descr:"the line color"}],padding:[{template:"Vertical",type:"section"},{name:"top",view:"text",label:"Top",datatype:"number",descr:"defines the top space between the element borders and content"},{name:"bottom",view:"text",label:"Bottom",datatype:"number",descr:"defines the bottom space between the element borders and content"},{template:"Horizontal",type:"section"},{name:"left",view:"text",label:"Left",datatype:"number",descr:"defines the left space between the element borders and content"},{name:"right",view:"text",label:"Right",datatype:"number",descr:"defines the right space between the element borders and content"}],xAxis:[{name:"lines",view:"switch",label:"Lines",datatype:"boolean",descr:"enables/disables vertical lines for the scale units"},{name:"color",view:"colorpicker",editable:!0,label:"Color",datatype:"string",descr:"the axis color"},{name:"lineColor",view:"colorpicker",editable:!0,label:"lineColor",datatype:"string",descr:"the color of the scale lines"},{template:"Scale",type:"section"},{name:"start",view:"text",label:"Start",datatype:"number",descr:"the minimum value of the scale"},{name:"end",view:"text",label:"End",datatype:"number",descr:"the maximum value of the scale"},{name:"step",view:"text",label:"Step",datatype:"number",descr:"the scale step"},{template:"Display",type:"section"},{name:"title",view:"text",label:"Title",datatype:"string",descr:"the axis title"},{name:"template",view:"text",label:"Template",datatype:"string",descr:"the template for the scale labels"}],yAxis:[{name:"lines",view:"switch",label:"Lines",datatype:"boolean",descr:"enables/disables horizontal lines for the scale units"},{name:"color",view:"colorpicker",editable:!0,label:"Color",datatype:"string",descr:"the axis color"},{name:"lineColor",view:"colorpicker",editable:!0,label:"lineColor",datatype:"string",descr:"the color of the scale lines"},{name:"bg",view:"colorpicker",editable:!0,label:"Bg",datatype:"string",descr:"the background color"},{template:"Scale",type:"section"},{name:"start",view:"text",label:"Start",datatype:"number",descr:"the minimum value of the scale"},{name:"end",view:"text",label:"End",datatype:"number",descr:"the maximum value of the scale"},{name:"step",view:"text",label:"Step",datatype:"number",descr:"the scale step"},{template:"Display",type:"section"},{name:"lineShape",view:"combo",label:"LineShape",datatype:"string",descr:"the shape of lines",options:[{id:"$blank",value:""},{id:"arc",value:"arc"},{id:"$blank",value:"line"}]},{name:"title",view:"text",label:"Title",datatype:"string",descr:"the axis title"},{name:"template",view:"text",label:"Template",datatype:"string",descr:"the template for the scale labels"}],legend:[{name:"$enable",view:"switch",label:"Enable",descr:"enables the chart legend"},{template:"Sizes",type:"section"},{name:"width",view:"text",label:"Width",datatype:"number",descr:"the legend block's width"},{name:"height",view:"text",label:"Height",datatype:"number",descr:"the legend block's height"},{template:"Display",type:"section"},{name:"toggle",view:"switch",label:"Toggle",datatype:"boolean",descr:"enables/disables the possibility to hide/show a graph by clicking on the graph legend item"},{name:"layout",view:"combo",label:"Layout",datatype:"string",descr:"defines whether items should be placed vertically or horizontally",options:[{id:"$blank",value:""},{id:"x",value:"x"},{id:"y",value:"y"}]},{name:"align",view:"combo",label:"Align",datatype:"string",descr:"the horizontal alignment of the block",options:[{id:"$blank",value:""},{id:"left",value:"left"},{id:"right",value:"right"},{id:"center",value:"center"}]},{name:"valign",view:"combo",label:"Valign",datatype:"string",descr:"the vertical alignment of the block",options:[{id:"$blank",value:""},{id:"top",value:"top"},{id:"bottom",value:"bottom"},{id:"middle",value:"middle"}]},{name:"margin",view:"text",label:"Margin",datatype:"number",descr:"sets all four margins of the legend block to the specified value"},{name:"padding",view:"text",label:"Padding",datatype:"number",descr:"sets all four paddings of the legend block to the specified value"},{name:"template",view:"text",label:"Template",datatype:"string",descr:"the template for legend items"}],range:[{template:"ID",type:"section"},{name:"start",view:"text",label:"Start",datatype:"number",descr:"set the id of the starting item"},{name:"end",view:"text",label:"End",datatype:"number",descr:"set the id of the ending item"},{template:"Index",type:"section"},{name:"sindex",view:"text",label:"Start index",datatype:"number",descr:"defines the index of the beginning"},{name:"eindex",view:"text",label:"End index",datatype:"number",descr:"defines the index of the ending"}],elementsConfig:[{label:"Required",view:"switch",name:"required",datatype:"boolean",descr:"marks field as required"},{template:"Sizes",type:"section"},{label:"Width",view:"text",name:"width",datatype:"number",descr:"sets the width of a widget"},{label:"Height",view:"text",name:"height",datatype:"number",descr:"sets the height of the component"},{template:"Display",type:"section"},{label:"InputWidth",view:"text",name:"inputWidth",datatype:"number",descr:"the width of the input area, or a button's text value area"},{label:"Align",view:"combo",name:"align",datatype:"string",descr:"the alignment of the control within the parent container",options:[{id:"$blank",value:""},{id:"left",value:"left"},{id:"center",value:"center"},{id:"right",value:"right"}]},{template:"Label",type:"section"},{label:"Label",view:"text",name:"label",datatype:"string",descr:"sets the text of the label"},{label:"LabelWidth",view:"text",name:"labelWidth",datatype:"number",descr:"the width of the label"},{label:"LabelPosition",view:"combo",name:"labelPosition",datatype:"string",descr:"positions a label in relation to the control",options:[{id:"$blank",value:""},{id:"top",value:"top"}]},{label:"BottomLabel",view:"text",name:"bottomLabel",datatype:"string",descr:"sets a label under a control"}],tabbar:[{template:"Sizes",type:"section"},{label:"TabMinWidth",view:"text",name:"tabMinWidth",datatype:"number",descr:"minimum width for responsive tabs"},{label:"TabMoreWidth",view:"text",name:"tabMoreWidth",datatype:"number",descr:"width of 'more' button in tabbar"},{label:"optionWidth",view:"text",name:"optionWidth",datatype:"number",descr:"sets the width of each view's option"},{label:"PopupWidth",view:"text",name:"popupWidth",datatype:"number",descr:"width of popup for extra tabs"},{label:"Height",view:"text",name:"height",datatype:"number",descr:"sets the height of the component"},{template:"Display",type:"section"},{label:"TabMargin",view:"text",name:"tabMargin",datatype:"number",descr:"space between tabs"},{label:"TabOffset",view:"text",name:"tabOffset",datatype:"number",descr:"left padding of first tab"}],rules:[{id:"name",header:"Field name",fillspace:1,editor:"text"},{id:"value",header:"Rule",fillspace:1,editor:"combo",collection:[{id:"isChecked",value:"isChecked"},{id:"isEmail",value:"isEmail"},{id:"isNotEmpty",value:"isNotEmpty"},{id:"isNumber",value:"isNumber"}]},{id:"$trash",header:"",template:"<span class='webix_icon trash_icon wxi-trash'></span>",width:45}],map:[{id:"name",header:"Field name",fillspace:1,editor:"text"},{id:"value",header:"Template",fillspace:1,editor:"text"},{id:"$trash",header:"",template:"<span class='webix_icon trash_icon wxi-trash'></span>",width:45}]}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(25);function r(){return{view:"template",css:"login_img",maxWidth:770,borderless:!0,template:function(){return'\n\t\t\t\t<div class="login_gradient">\n\t\t\t\t\t<div class="login_image"></div>\n\t\t\t\t</div>\n\t\t\t\t<a href="https://webix.com/" class="login_logo">'+n.a.logo+"</a>\n\t\t\t"}}}},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return a});var n=i(0),r=i(4);var a=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=n.prototype;return a.config=function(){var e=this,t={view:"form",localId:"form",css:"login_form",width:504,padding:0,margin:26,rows:[{view:"template",template:"Log in to Webix UI Designer",css:"login_title",height:40,borderless:!0},{margin:10,rows:[{view:"text",name:"email",placeholder:"Your email",invalidMessage:"Sorry, email or password is incorrect"},{view:"text",name:"pass",placeholder:"Password",type:"password"}]},{view:"button",css:"login_accent",value:"Log in",inputWidth:131,align:"center",hotkey:"enter",click:function(){return e.Login()}},{view:"template",height:24,borderless:!0,css:"login_helpers",template:"\n\t\t\t\t\t\tDon't have an account?\n\t\t\t\t\t\t<a class='action-link' route='./login.register'> Register</a>\n\t\t\t\t\t\t<span style='float:right'>\n\t\t\t\t\t\t\t<a class='action-link' route='./login.restore'>Forgot your password?</a>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t"},{template:"Or",type:"section",height:26,css:"login_section"},{view:"button",value:"Log in with Google",css:"google_button",click:function(){return e.LoginWithGoogle()}}]};return{css:"login_layout",margin:50,padding:{right:50},cols:[Object(r.a)(),{align:"center,middle",body:t}]}},a.init=function(){this.$$("form").focus()},a.Login=function(){var e=this,t=this.$$("form");if(t.validate()){var i=t.getValues();this.app.getService("auth").login(i.email,i.pass).then(function(){"login"===e.getUrl()[0].page?e.show("/top/project.all"):e.app.refresh()},function(){return e.IncorrectLogin()})}},a.LoginWithGoogle=function(){document.location.href="/auth/google/login"},a.IncorrectLogin=function(){var e=this.$$("form");e.markInvalid("email"),e.markInvalid("pass"),e.elements.pass.focus()},n}(n.b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return c});var n=i(0),r=i(15),a=i(1),o=i(16),s=i(17),l=i(18);var c=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var c=n.prototype;return c.config=function(){var e=this;return{view:"toolbar",localId:"topbar",padding:{left:16,right:9},margin:0,css:"app_bar",height:48,visibleBatch:"all",cols:[{localId:"crumbs",css:"crumbs",borderless:!0,view:"template",onClick:{all:function(){e.nameEdit||e.show("/top/project.all")},project:function(t,i,n){e.nameEdit||(e.NavMenu&&!e.Snippet?e.ProjectMenu.Show(n,e.Project,"crumbs"):e.show("/top/project?pid="+e.Project.id))},snippet:function(t,i,n){e.NavMenu?e.DesignMenu.Show(n,e.Snippet,e.Project,"crumbs"):e.show("./workspace/"+e.Snippet.id+"/sandbox/0/workspace.form")}}},{view:"text",localId:"name",css:"name_editor",batch:"name",on:{onBlur:function(){return e.ExitNameEdit()},onEnter:function(){return e.ExitNameEdit()}}},{batch:"name",width:16},{batch:"workspace",cols:[{$subview:"workspace.worktools"}]},{batch:"all"},{batch:"teamwork",cols:[{$subview:"toolbar.teamwork"}]},{batch:"teamwork",width:35},{view:"label",localId:"user",css:"top_user_name",label:this.app.getService("auth").getUser().name+a.a.suggest,inputHeight:26,autowidth:!0,click:function(t){return e.SettingsMenu.Show(e.$$(t).$view,e.Project,e.Snippet)}},{view:"icon",icon:"mdi mdi-help-circle-outline",click:function(){e.Help.show(e.User.temp)}}]}},c.init=function(){var e=this;this.DesignMenu=this.ui(o.default),this.ProjectMenu=this.ui(s.default),this.SettingsMenu=this.ui(l.default),this.Help=this.ui(r.default),this.on(this.app,"showBreadcrumbs",function(t,i,n){return e.ShowCrumbs(t,i,n)}),this.on(this.app,"onMenuShow",function(t,i){return e.HighlightCrumbs(t,i)}),this.on(this.app,"onProjectMenuShow",function(t,i,n){return e.ProjectMenu.Show(t,i,n)}),this.on(this.app,"onDesignMenuShow",function(t,i,n,r){return e.DesignMenu.Show(t,i,n,r)}),this.on(this.app,"onProjectRename",function(t,i){return e.StartNameEdit(i)}),this.on(this.app,"onDesignRename",function(t,i){return e.StartNameEdit(i)}),this.on(this.app,"onUISelected",function(){return e.ExitNameEdit()}),this.on(this.app,"onUserNameUpdate",function(t){return e.updateUserName(t)}),this.CrumbsDelay=500,this.AddHotKeys(),this.User=this.app.getService("auth").getUser(),this.User.temp&&this.$$("user").hide()},c.ready=function(e,t){if(t[3]){var i=t[3].page;this.app.callEvent("onModeSet",[i])}},c.destroy=function(){for(var e in this.HotKeys)webix.UIManager.removeHotKey(e)},c.AddHotKeys=function(){var e,t=this,i=webix.env.isMac?"command":"ctrl";this.HotKeys=((e={})[i+"-r"]="rename",e[i+"-d"]="duplicate",e[i+"-o"]="preview",e);var n=function(e){webix.UIManager.addHotKey(e,function(i,n){if(t.NavMenu)return(t.Snippet?t.DesignMenu:t.ProjectMenu).MenuActions(t.HotKeys[e],t.Snippet||t.Project,"crumbs"),webix.html.preventEvent(n)})};for(var r in this.HotKeys)n(r);this.on(this.app,"onDesignHotkey",function(e){return t.DesignMenu.MenuActions(e,t.Snippet,"crumbs")})},c.StartNameEdit=function(e){if("catalog"!=e){this.nameEdit=!0;var t=this.Snippet?this.Snippet:this.Project;this.ShowCrumbs(this.Snippet?this.Project:null);var i=this.$$("name");i.setValue(t.name),i.focus(),webix.html.setSelectionRange(i.getInputNode(),0,t.name.length)}},c.ExitNameEdit=function(){if(this.nameEdit){var e=this.Snippet?this.Snippet:this.Project,t=this.app.getService(this.Snippet?"views":"projects");this.nameEdit=!1;var i=this.$$("name").getValue().trim();i&&e.name!=i&&(t.save(e.id,"update",{name:i}),e.name=i),this.ShowCrumbs(this.Project,this.Snippet)}},c.ShowCrumbs=function(e,t,i){if(this.CrumbsDelay)return webix.delay(this.ShowCrumbs,this,[e,t,i],this.CrumbsDelay),delete this.CrumbsDelay;var n=this.GetCrumbs(e,t,i),r=this.$$("topbar"),a=this.$$("crumbs");a.setHTML(n),a.define("width",webix.html.getTextSize(n,"crumbs").width),a.resize(),this.NavMenu=!i&&e,this.nameEdit?r.showBatch("name"):(this.Project=e,this.Snippet=t,t&&!i?(r.showBatch("workspace"),r.showBatch("teamwork",!0)):r.showBatch("all"),"string"==typeof i&&r.showBatch("teamwork",!0))},c.GetCrumbs=function(e,t,i){var n="<span class='crumbs_separator'>/</span>",r="<span class='all'>All projects</span>";return e&&(r+=n+'<span class="project">'+(e.name+(t||this.nameEdit||i?"":a.a.suggest))+"</span>"),t&&(r+=n+'<span class="snippet">'+(t.name+(i?"":a.a.suggest))+"</span>"),"string"==typeof i&&(r+=n+'<span class="details">'+i+"</span>"),this.nameEdit&&(r+=n),r},c.HighlightCrumbs=function(e,t){if("catalog"!=e){var i=this.$$(e).$view;t?webix.html.addCss(i,"suggest_open"):webix.html.removeCss(i,"suggest_open")}},c.updateUserName=function(e){var t=this.$$("user");t.define("label",e+a.a.suggest),t.render(),t.resize()},n}(n.b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return n});var n=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.config=function(){var e=this;return{type:"clean",borderless:!0,height:44,margin:20,view:"toolbar",on:{onChange:function(){"search"!==this.$eventSource.name&&this.$scope.Filter()}},cols:[{view:"search",placeholder:"Type to search",width:1072,css:"subbar_search",name:"text",on:{onTimedKeyPress:function(){return e.Filter()}}},{view:"richselect",value:1,width:100,css:"subbar_select",name:"type",options:{data:[{id:1,value:"All"},{id:2,value:"Shared"},{id:3,value:"Private"}],css:"app_menu"}},{view:"richselect",value:1,width:144,css:"subbar_select",name:"sort",options:{data:[{id:1,value:"Last Modified"},{id:2,value:"Alphabetically"}],css:"app_menu"}},{}]}},r.init=function(){var e=this;this.on(this.app,"showBreadcrumbs",function(t){t&&e.getRoot().elements.type.hide()}),this.on(this.app,"onProjectShare",function(){return e.Filter()}),this.on(this.app,"onCatalogAdd",function(){e.getRoot().setValues({text:"",type:1,sort:1}),e.Filter()})},r.Filter=function(){var e=this.getRoot().getValues(),t=e.text,i=e.type,n=e.sort;this.app.callEvent("onCatalogFilter",[t,n,i])},n}(i(0).b)},function(e,t,i){"use strict";function n(e){var t="",i=r[Math.floor(Math.random()*r.length)];"string"!=typeof e&&(e=""),e=e.split(" ");for(var n=0;n<e.length&&t.length<2;n++)e[n]&&(t+=e[n].charAt(0));return'<div class="default_avatar" style="background:'+i.bg+"; color:"+i.c+';">'+(t||"no")+"</div>"}i.d(t,"a",function(){return n});var r=[{bg:"#2EADC2",c:"#FFFFFF"},{bg:"#3B3ABB",c:"#FFFFFF"},{bg:"#813EBB",c:"#FFFFFF"},{bg:"#B442A8",c:"#FFFFFF"},{bg:"#B43D64",c:"#FFFFFF"},{bg:"#D25640",c:"#FFFFFF"},{bg:"#DBA10D",c:"#FFFFFF"},{bg:"#7BBD48",c:"#FFFFFF"},{bg:"#5EBD90",c:"#FFFFFF"}]},function(e,t,i){"use strict";function n(e,t){return e.add?-1:t.add?1:(e=e.name,(t=t.name)?e?(e=e.toString().toLowerCase())>(t=t.toString().toLowerCase())?1:e<t?-1:0:-1:1)}function r(e,t){return e.add?-1:t.add?1:(e=e.updated,t=t.updated,(e-=0)<(t-=0)?1:e>t?-1:0)}i.d(t,"b",function(){return n}),i.d(t,"a",function(){return r})},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return l});var n=i(0),r=(i(29),i(24)),a=i(1),o=i(7),s=i(9);var l=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var l=n.prototype;return l.config=function(){var e=this,t={view:"editview",localId:"data",css:"catalog_views",onClick:{catalog_item:function(t,i){e.Data.getEditor()||e.Open(i)},catalog_add:function(){return e.Data.getEditor()||e.AddWindow.Show(),!1},catalog_actions:function(t,i){return e.app.callEvent("onDesignMenuShow",[t,e.Data.getItem(i),e.Project,"catalog"]),!1}},on:{onBeforeEditStop:function(t,i){return e.Rename(t,i)}},scheme:{$change:function(e){if(e.updated){e.updated=new Date(e.updated);var t=webix.Date.dateToStr("%d.%m.%y at %H:%i");e.updatedStr=t(e.updated)}else e.updated="",e.updatedStr=""}}};return{css:"projects",margin:20,padding:{top:40,left:40,right:40},rows:[{$subview:o.default,name:"subbar"},t]}},l.init=function(){var e=this;this.Data=this.$$("data"),this.AddWindow=this.ui(r.default),this.on(this.app,"onCatalogSort",function(t){return e.Sort(t)}),this.on(this.app,"onCatalogFilter",function(t,i){return e.Filter(t,i)}),this.on(this.app,"onProjectRename",function(){return e.Data.editStop()}),this.on(this.app,"onDesignRename",function(t){return e.Data.edit(t)}),this.on(this.app,"onDesignDuplicate",function(t){return e.Duplicate(t)}),this.on(this.app,"onDesignDelete",function(t){return e.Data.remove(t)}),this.on(this.app,"onDesignAdd",function(t){return e.Add(t)}),webix.extend(this.Data,webix.OverlayBox)},l.ready=function(){var e=this,t=this.getParam("pid");webix.promise.all([this.app.getService("views").getAll({project:t}),this.app.getService("projects").getOne(t)]).then(function(t){var i=t[0],n=t[1],r=e.app.getService("backend");e.on(r,"thumb-"+n.id,function(t){return e.UpdateThumb(t)}),e.Project=n,"write"===e.Project.mode&&i.unshift({add:"Design"}),e.Data.parse(i),e.getSubView("subbar").Filter(),e.app.callEvent("showBreadcrumbs",[e.Project])})},l.Duplicate=function(e){this.Data.add(e),this.app.callEvent("onCatalogAdd",[])},l.UpdateThumb=function(e){var t=this.Data.getItem(e.id);t&&(t.thumb=e.thumb,this.Data.refresh(t.id))},l.Sort=function(e){1==e?this.Data.sort(s.a,"asc"):this.Data.sort(s.b,"asc")},l.Filter=function(e,t){this.Data.filter(function(t){return t.add||-1!=t.name.toLowerCase().indexOf(e.toLowerCase())}),this.Sort(t),this.Data.count()?this.Data.hideOverlay():this.Data.showOverlay("\n\t\t\t\t<div>There are no designs here..</div>\n\t\t\t\t"+a.a.tea+"\n\t\t\t\t<div>..make tea and try again</div>\n\t\t\t")},l.Preview=function(e){window.open("/preview/"+this.Data.getItem(e).preview,"_blank")},l.Open=function(e){"read"===this.Project.mode?this.Preview(e):this.show("./workspace/"+e+"/sandbox/0/workspace.form")},l.Add=function(e){var t=this;e=webix.extend(e,{project:this.Project.id,thumb:"/codebase/assets/imgs/ui.png"}),this.app.getService("views").save(0,"insert",e).then(function(e){t.Open(e.id)})},l.Rename=function(e,t){var i=this;e.value=e.value.trim(),e.value?e.old!=e.value&&this.app.getService("views").save(t.id,"update",{name:e.value}).then(function(){i.app.getService("views").getOne(t.id).then(function(e){i.Data.updateItem(t.id,{name:e.name,updated:e.updated}),i.getSubView("subbar").Filter()})}):e.value=e.old},n}(n.b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return o});var n=i(0),r=i(23),a=i(19);var o=function(e){var t,i;function o(){return e.apply(this,arguments)||this}i=e,(t=o).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var s=o.prototype;return s.config=function(){return{css:"webix_designer",cols:[r.default,{type:"space",cols:[{$subview:!0,name:"sandbox"}]},a.default]}},s.init=function(){var e=this;this.use(n.d.UrlParam,["design","mode","id"]),this.Views=this.app.getService("views"),this.Undo=this.app.getService("undo"),this.Rules=this.app.getService("TreeRules"),this.Tree=this.Rules.getEditor(),this.Design=this.getParam("design"),this.LoadData(),this.app.on("ShowPreview",function(){window.open("/preview/"+e.Preview,"_blank")}),this.app.on("ExportDesign",function(t,i){webix.send("/export/"+t,{hash:i||e.Preview})}),this.on(this.app,"onUIChange",function(t){t||e.SaveData(),e.app.callEvent("onPreviewRepaint"),e.RestoreSelection()}),this.on(this.app,"onUndoChange",function(t){t&&e.SaveData(!0).then(function(){e.app.callEvent("onPreviewRepaint"),e.RestoreSelection()})}),this.on(this.app,"onUISelected",function(t){var i=e.getParam("id");e.setParam("id",t,!0),i!=t&&e.app.callEvent("onUISelectChange")}),this.on(this.app,"onModeChanged",function(t){e.setParam("mode",t,!0)}),this.on(this.app,"onDataUpdate",function(){return e.RestoreSelection()}),this.on(this.app,"onStylesUpdate",function(){return e.RestoreSelection()}),this.on(this.app,"onUndoApply",function(t){return e.Undo[t]()}),this.on(this.app,"onAppDeSync",function(){return e.Room.leave()}),this.AddHotKeys()},s.urlChange=function(){var e=this,t=this.getParam("mode")||"sandbox";t!==this.Mode&&(this.Mode=t,this.show("./workspace."+t,{target:"sandbox"})),this.Tree.waitData.then(function(){var t=e.getParam("id");"0"!=t&&e.Tree.exists(t)||(t=e.Tree.getFirstId())&&e.setParam("id",t,!0)})},s.destroy=function(){for(var e in this.HotKeys)webix.UIManager.removeHotKey(e);this.Room&&this.Room.leave(),this.Tree.clearAll()},s.AddHotKeys=function(){var e,t=this,i=webix.env.isMac?"command":"ctrl";this.HotKeys=((e={})[i+"-z"]="undo",e[i+"-y"]="redo",e[i+"-shift-z"]="redo",e);var n=function(e){webix.UIManager.addHotKey(e,function(i,n){if(!i||i&&!i.$allowsClear&&"codemirror-editor"!==i.name)return t.Undo[t.HotKeys[e]](),webix.html.preventEvent(n)})};for(var r in this.HotKeys)n(r)},s.RestoreSelection=function(){this.show(this.getUrlString())},s.LoadData=function(){var e=this;return this.Views.getOne(this.Design).then(function(t){t&&("string"==typeof t.jscode&&(t.jscode=JSON.parse(t.jscode)),e.Tree.loadConfig(t.jscode),e.Preview=t.preview,e.Rules.setSkin(t.skin),e.Undo.track(e.Design),e.Room=e.app.getService("rooms").getRoom(t.project.id,"design-"+e.Design),e.Room.track(e),e.Views.onChange(e,t.preview,function(t){t.user!==e.app.getService("auth").getUser().id&&(e.Tree.loadConfig(JSON.parse(t.code)),e.Rules.setSkin(t.skin),e.app.callEvent("onUIChange",[!0]))}),e.app.callEvent("showBreadcrumbs",[t.project,t]),e.app.callEvent("onPreviewRepaint"),e.app.getService("data").trackProject(t.project.id))})},s.SaveData=function(e){var t=this.Tree.getUI(!0),i=this.Rules.getSkin(),n=webix.i18n.parseFormatStr(new Date);e||this.Undo.push(t,i);var r=JSON.stringify(t);return this.Views.save(this.Design,"update",{jscode:r,skin:i,modified:n})},o}(n.b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return n});var n=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.config=function(){var e=this;return{view:"contextmenu",width:200,data:[{id:"rename",value:"Rename<span class='hotkey_dark_hint'>Ctrl+R</span>"},{id:"duplicate",value:"Duplicate<span class='hotkey_dark_hint'>Ctrl+D</span>"},{id:"restore",value:"Restore default"},{id:"delete",value:"Delete"}],on:{onMenuItemClick:function(t){return e.MenuAction(t)},onHide:function(){return e.MenuAction("hide")}}}},r.init=function(e){this.Menu=e},r.Show=function(e,t){var i=!this.Menu.isVisible();return i?(t.default?(this.Menu.showItem("restore"),this.Menu.hideItem("delete"),t.modified?this.Menu.enableItem("restore"):this.Menu.disableItem("restore")):(this.Menu.showItem("delete"),this.Menu.hideItem("restore")),this.Menu.show(e,{x:-40})):this.Menu.hide(),i},r.MenuAction=function(e){this.app.callEvent("onDataAction",[e])},n}(i(0).b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return s});var n=i(0),r=i(14),a=i(1),o=i(8);var s=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var s=n.prototype;return s.config=function(){var e=this;return{view:"window",position:"center",head:!1,modal:!0,width:640,body:{rows:[{padding:{top:11,right:6},cols:[{},{view:"icon",icon:"wxi-close",css:"shared_close",click:function(){return e.Hide()}}]},{borderless:!0,padding:{top:7,right:40,left:40,bottom:40},margin:0,rows:[{view:"template",template:"Share Project",height:36,borderless:!0,css:"shared_title"},{height:25},{cols:[{view:"multicombo",value:"",newValues:!0,options:[],css:"shared_input",placeholder:"Invite someone..."},{rows:[{},{view:"template",localId:"access",width:102,height:38,borderless:!0,css:"shared_access",template:function(e){return(e.write?"Can edit":"Can view")+(e.open?a.a.up:a.a.down)},onClick:{webix_template:function(t,i,n){e.$$("access").setValues({open:!0},!0),e.ShowMenu(n,i,{y:-9})}}},{}]}]},{height:14},{cols:[{view:"button",label:"Invite",width:140,css:"shared_save",click:function(){return e.Done()}},{}]},{height:37},{view:"list",localId:"list",css:"shared_list",yCount:2,autoheight:!0,template:function(e){var t="<span class='action_column'>"+(e.write?"Can edit":"Can view")+a.a.suggest+"</span>";return(e.avatar?'<img class="avatar_img" src="'+e.avatar+'">':Object(o.a)(e.name))+(e.name||"")+t},tooltip:"&lt;#email#&gt;",type:{height:49},onClick:{action_column:function(t,i,n){return e.ShowMenu(n,i,{x:-12})}},on:{onAfterScroll:function(){return e.ShareMenu.Hide()},"data->onStoreUpdated":function(t,i,n){return e.ChangeListState(t,i,n)}},save:{url:this.app.getService("projects").saveShares,updateFromResponse:!0,on:{onBeforeDataSend:function(t){t.data.project=e.Project}}}}]}]}}},s.init=function(e){var t=this;this.View=e,this.List=e.queryView("list"),this.Input=e.queryView("multicombo"),this.CurrentEmail=this.app.getService("auth").getUser().email;var i=this.Input.getPopup();i.attachEvent("onBeforeShow",function(){return!1}),i.getList().attachEvent("onBeforeAdd",function(e,i){return t.Validate(i)}),this.on(this.app,"onShareAccessChanged",function(e){return t.ChangeAccess(e)}),this.on(this.app,"onShareAction",function(e,i){return t.ShareAction(e,i)}),this.ShareMenu=this.ui(r.default)},s.ChangeAccess=function(e){var t={open:!1};"edit"===e&&(t.write=!0),"view"===e&&(t.write=!1),this.$$("access").setValues(t,!0)},s.ShareAction=function(e,t){"view"===t||"edit"===t?this.List.updateItem(e,{write:"edit"===t}):this.List.remove(e)},s.ChangeListState=function(e,t,i){i&&"update"!=i&&"paint"!=i&&(this.List.count()?this.List.show():this.List.hide())},s.Validate=function(e){var t=webix.rules.isEmail(e.value||"");return t||webix.delay(function(e){this.View.isVisible()&&webix.message('Email expected, but found:</br><span class="wrong_email">'+(e||"")+"</span>")},this,[e.value],300),t},s.ClearInput=function(){this.Input.getList().clearAll(),this.Input.setValue("")},s.ShowMenu=function(e,t,i){i.selected=t?this.List.getItem(t).write:this.$$("access").getValues().write,i.selected=i.selected?"edit":"view",this.ShareMenu.Show(e,t,i)},s.Show=function(e){var t=this;this.Project=e,this.app.getService("projects").getShares(e).then(function(e){t.List.parse(e),t.ChangeListState(null,null,"parse"),t.Input.focus()}),this.View.show()},s.Hide=function(){this.View.hide(),this.app.callEvent("onProjectShare",[this.Project,!this.List.count()]),this.ClearInput(),this.List.clearAll(),this.$$("access").setValues({write:!1,open:!1})},s.Done=function(){var e=this,t=this.Input.getValue({options:!0});t.length&&function(){var i,n,r,a=!!e.$$("access").getValues().write;t=t.map(function(e){return e.value});for(var o=0;o<t.length;o++)n=t[o].trim(),(r=e.List.find(function(e){return e.email===n},!0))?(i=r.id,r.write!==a&&e.List.updateItem(i,{write:a})):n!==e.CurrentEmail&&(i=e.List.add({name:"",email:n,write:a}));i&&e.List.showItem(i)}(),this.ClearInput()},n}(n.b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return n});var n=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.config=function(){var e=this;return{view:"contextmenu",width:100,css:"app_menu",data:[{id:"view",value:"Can view"},{id:"edit",value:"Can edit"},{id:"remove",value:"Remove"}],on:{onMenuItemClick:function(t){return e.MenuAction(t)},onHide:function(){return e.MenuAction("hide")}}}},r.init=function(e){this.Menu=e},r.Show=function(e,t,i){this.ID=t,t?this.Menu.showItem("remove"):this.Menu.hideItem("remove"),this.MarkItem(i.selected),this.Menu.show(e,i)},r.MarkItem=function(e){this.Marked&&this.Menu.removeCss(this.Marked,"selected"),this.Menu.addCss(this.Marked=e,"selected")},r.Hide=function(){this.Menu.hide()},r.MenuAction=function(e){if(e===this.Marked)return this.Hide();this.ID?"hide"!==e&&this.app.callEvent("onShareAction",[this.ID,e]):this.app.callEvent("onShareAccessChanged",[e])},n}(i(0).b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return n});var n=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.config=function(){var e=this;return{view:"sidemenu",position:"right",css:"webix_shadow_big",width:400,state:function(t){t.top=e.TopOffset,t.height-=48},body:{css:"webix_designer_help",template:"<h2 class='webix_strong'>Hot Keys</h2>\n\t\t\t\t<h3 class='webix_strong'>Edit Area Screen</h3>\n\n\t\t\t\t<ul>\n\t\t\t\t\t<li><span class='webix_strong'>Ctrl*+A</span> - select a parent widget</li>\n\t\t\t\t\t<li><span class='webix_strong'>Delete / Backspace</span> - delete the selected widget</li>\n\t\t\t\t\t<li><span class='webix_strong'>Ctrl+Z</span> - undo</li>\n\t\t\t\t\t<li><span class='webix_strong'>Ctrl+Shift+Z / Ctrl+Y</span> - redo</li>\n\t\t\t\t\t<li><span class='webix_strong'>Ctrl+O</span> - open design preview</li>\n\t\t\t\t\t<li><span class='webix_strong'>Ctrl+R</span> - rename a design</li>\n\t\t\t\t\t<li><span class='webix_strong'>Ctrl+D</span> - duplicate a design</li>\n\t\t\t\t</ul>\n\t\t\t\t\n\t\t\t\t<h3 class='webix_strong'>Designs Screen</h3>\n\t\t\t\t<ul>\n\t\t\t\t\t<li><span class='webix_strong'>Ctrl+D</span> - duplicate a project</li>\n\t\t\t\t\t<li><span class='webix_strong'>Ctrl+R</span> - rename a project</li>\n\t\t\t\t</ul>\n\n\t\t\t\t<h3 class='webix_strong'>Data Sources / Stylesheet</h3>\n\t\t\t\t<ul>\n\t\t\t\t\t<li><span class='webix_strong'>Ctrl+S</span> - save the code</li>\n\t\t\t\t\t<li><span class='webix_strong'>Ctrl+R</span> - rename a data source</li>\n\t\t\t\t\t<li><span class='webix_strong'>Ctrl+D</span> - duplicate a data source</li>\n\t\t\t\t</ul>\n\t\t\t\t* <i>Command for Mac</i>\n\t\t\t\t<br>\n\t\t\t\t<br>\n\n\t\t\t\tFor more details, check <a target='_blank' href='https://docs.webix.com/designer_guide__index.html'>Visual Designer guide</a>.",borderless:!0,scroll:"y"}}},r.show=function(e){this.TopOffset=48+(e?30:0),this.getRoot().isVisible()?this.getRoot().hide():this.getRoot().show()},n}(i(0).b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return n});var n=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.config=function(){var e=this;return{view:"contextmenu",data:[{id:"skin",mode:"write",skin:!0,value:"Skins"},{$template:"Separator",skin:!0,id:"skinSeparator"},{id:"preview",mode:"read",value:"Preview",hotkey:"Ctrl+O"},{id:"download",mode:"read",value:"Download",submenu:[{id:"png",value:"As PNG"},{id:"pdf",value:"As PDF"},{id:"html",value:"As HTML"}]},{$template:"Separator"},{id:"rename",mode:"write",value:"Rename",hotkey:"Ctrl+R"},{id:"duplicate",mode:"write",value:"Duplicate",hotkey:"Ctrl+D"},{id:"delete",mode:"write",value:"Delete"}],on:{onMenuItemClick:function(t){return e.MenuActions(t,e.Snippet,e.From)},onHide:function(){return e.app.callEvent("onMenuShow",[e.From,!1])}},template:function(t){var i=t.value;return t.hotkey&&"crumbs"==e.From&&(i+="<span class='hotkey_hint'>"+t.hotkey+"</span>"),i}}},r.Show=function(e,t,i,n){var r=this.getRoot();if(r.isVisible())r.hide();else{this.Snippet=t,this.From=n;var a="catalog"==n?"app_menu":"app_menu_dark";this.UpdateStyle(r,a),this.UpdateStyle(r.getSubMenu("download"),a),r.show(e,{y:"catalog"==n?0:5}),"read"===i.mode?r.filter(function(e){return e.mode===i.mode}):"catalog"==n?r.filter(function(e){return!e.skin}):r.filter(""),this.app.callEvent("onMenuShow",[this.From,!0])}},r.UpdateStyle=function(e,t){webix.html.removeCss(e.$view,"app_menu_dark"),webix.html.removeCss(e.$view,"app_menu"),e.define("css",t)},r.MenuActions=function(e,t,i){switch(e){case"skin":this.app.callEvent("onEditorShow",[{type:e,id:t.id}]);break;case"preview":window.open("/preview/"+t.preview,"_blank");break;case"png":case"pdf":case"html":webix.send("/export/"+e,{hash:t.preview});break;case"rename":this.app.callEvent("onDesignRename",[t.id,i]);break;case"duplicate":this.Duplicate(t.id,i);break;case"delete":this.Remove(t,i)}this.getRoot().hide()},r.Duplicate=function(e,t){var i=this;this.app.getService("views").copy(e).then(function(e){i.app.callEvent("onDesignDuplicate",[e]),"catalog"!=t&&window.open("/top/workspace/"+e.id+"/sandbox/0/workspace.form","_blank")})},r.Remove=function(e,t){var i=this;webix.confirm("The design will be deleted,<br> are you sure?",function(n){n&&i.app.getService("views").save(e.id,"delete").then(function(){i.app.callEvent("onDesignDelete",[e.id]),"catalog"!=t&&i.show("/top/project?pid="+e.project.id)})})},n}(i(0).b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return a});var n=i(0),r=i(13);var a=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=n.prototype;return a.config=function(){var e=this;return{view:"contextmenu",localId:"menu",width:150,data:[{mode:"write",id:"rename",value:"Rename",hotkey:"Ctrl+R"},{mode:"write",id:"share",value:"Share"},{mode:"read",id:"duplicate",value:"Duplicate",hotkey:"Ctrl+D"},{$template:"Separator"},{mode:"write",id:"data",value:"Data sources"},{mode:"write",id:"styles",value:"Custom styles"},{$template:"Separator"},{mode:"read",id:"delete",value:"Delete Project"}],on:{onMenuItemClick:function(t){return e.MenuActions(t,e.Project,e.From)},onHide:function(){return e.app.callEvent("onMenuShow",[e.From,!1])}},template:function(t){var i=t.value;return t.hotkey&&"crumbs"==e.From&&(i+="<span class='hotkey_hint'>"+t.hotkey+"</span>"),i}}},a.init=function(){this.ShareWindow=this.ui(r.default),this.app.getService("auth").getUser().temp&&this.$$("menu").remove("share")},a.Show=function(e,t,i){var n=this.getRoot();if(n.isVisible())n.hide();else{this.Project=t,this.From=i;var r="catalog"==i?"app_menu":"app_menu_dark";this.UpdateStyle(n,r),n.show(e,{y:"catalog"==i?0:5}),n.updateItem("delete",{value:t.private?"Delete Project":"Exit Project"}),"read"===t.mode?n.filter(function(e){return e.mode===t.mode}):n.filter(""),this.app.callEvent("onMenuShow",[this.From,!0])}},a.UpdateStyle=function(e,t){webix.html.removeCss(e.$view,"app_menu_dark"),webix.html.removeCss(e.$view,"app_menu"),e.define("css",t)},a.MenuActions=function(e,t,i){switch(e){case"rename":this.app.callEvent("onProjectRename",[t.id,i]);break;case"share":this.Share(t.id);break;case"duplicate":this.Duplicate(t.id,i);break;case"data":case"styles":this.show("./project."+e+"/"+t.id);break;case"delete":this.Remove(t.id,i)}this.getRoot().hide()},a.Share=function(e){this.ShareWindow.Show(e),this.getRoot().hide()},a.Duplicate=function(e,t){var i=this;this.app.getService("projects").copy(e).then(function(e){i.app.callEvent("onProjectDuplicate",[e]),"catalog"!=t&&window.open("/top/project?pid="+e.id,"_blank")})},a.Remove=function(e,t){var i=this;webix.confirm("You will lose access to all the designs inside, are you sure?",function(n){n&&(i.app.getService("projects").data.remove(e),"catalog"!=t&&i.show("/top/project.all"))})},n}(n.b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return n});var n=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.config=function(){var e=this;return{view:"contextmenu",localId:"settings",css:"app_menu_dark",width:100,data:[{id:"settings",value:"Settings"},{id:"logout",value:"Logout"}],on:{onMenuItemClick:function(t){return e.MenuActions(t)},onHide:function(){return e.app.callEvent("onMenuShow",["user",!1])}}}},r.Show=function(e,t,i){this.getRoot().isVisible()?this.getRoot().hide():(this.Project=t,this.Snippet=i,this.getRoot().show(e,{y:-10}),this.app.callEvent("onMenuShow",["user",!0]))},r.MenuActions=function(e){var t=this;switch(e){case"settings":this.show("./settings").then(function(){t.app.callEvent("showBreadcrumbs",[t.Project,t.Snippet,!0])});break;case"logout":this.app.getService("auth").logout()}},n}(i(0).b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return o});var n=i(0),r=i(20),a=i(21);var o=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var o=n.prototype;return o.config=function(){var e=this;return{view:"multiview",css:"panel",width:310,animate:!1,cells:[{localId:"main",rows:[{view:"tree",localId:"tree",drag:"order",height:300,select:!0,template:function(e,t){var i=e.view;return i="string"==typeof i?i.charAt(0).toUpperCase()+i.slice(1):"",t.icon(e,t)+"<span>"+i+"</span>"},on:{onItemClick:function(t){return e.SelectCell(t)},onBeforeContextMenu:function(t){return e.SelectCell(t,!0)},onBeforeDrag:function(t){return e.isCellMoved(t)},onBeforeDrop:function(t){return e.MoveCell(t)},onBeforeDragIn:function(e){if(this.exists(e.target)&&0==this.getParentId(e.target))return!1}}},{view:"resizer",height:12},r.default]},{localId:"sub",rows:[{$subview:!0,name:"customEditor"}]}]}},o.init=function(){var e=this;this.Tree=this.app.getService("TreeRules"),this.Editor=this.Tree.getEditor();var t=this.$$("tree");t.sync(this.Editor),this.Editor.waitData.then(t.openAll()),this.on(this.app,"onEditorShow",function(t){return e.ShowEditor(t)}),this.on(this.app,"onEditorHide",function(){return e.$$("main").show()}),this.on(this.app,"onUISelectChange",function(){return e.$$("main").show()}),this.on(this.app,"onUndoChange",function(t){t&&e.$$("main").show()}),this.on(this.app,"onCellDeleted",function(){return e.DeleteCell()}),this.on(this.app,"onParentCellSelected",function(){return e.SelectParent()}),this.Menu=this.ui(a.default),this.Menu.LinkMaster(t);var i=webix.env.isMac?"command":"ctrl";webix.UIManager.addHotKey("delete",function(){return e.DeleteCell()},t),webix.UIManager.addHotKey("backspace",function(){return e.DeleteCell()},t),webix.UIManager.addHotKey(i+"-a",function(t){return e.SelectParent(t)},t)},o.urlChange=function(){var e=this,t=this.getParam("id",!0),i=this.$$("tree");this.Editor.waitData.then(function(){t&&e.Editor.exists(t)&&(i.select(t),i.showItem(t),i.open(i.getParentId(t),!0))})},o.destroy=function(){var e=webix.env.isMac?"command":"ctrl";webix.UIManager.removeHotKey("delete"),webix.UIManager.removeHotKey("backspace"),webix.UIManager.removeHotKey(e+"-a")},o.ShowEditor=function(e){var t=this,i="workspace.editors.complex";"map"!==e.type&&"rules"!==e.type||(i="workspace.editors.rules"),"columns"!==e.type&&"elements"!==e.type||(i="workspace.editors.column"),"url"!==e.type&&"options"!==e.type&&"users"!==e.type||(i="workspace.editors.data"),"skin"===e.type&&(i="workspace.editors.skin"),this.show(i,{target:"customEditor"}).then(function(){t.getSubView("customEditor").setConfig(webix.copy(e)),t.$$("sub").show()})},o.isCellMoved=function(e){var t=e.source[0];if("placeholder"==this.Editor.getItem(t).role)return webix.message({text:"Placeholders cannot be moved"}),!1},o.MoveCell=function(e){var t=e.parent;if(!t)return!1;var i=e.source[0],n=e.index,r=this.Editor.data.getBranch(t)[n],a=t==this.Editor.getParentId(i)&&this.Editor.getBranchIndex(i)<n,o="cols"==this.Editor.getItem(t).$mKey?a?"right":"left":a?"bottom":"top",s=this.Tree.onDrop(i,r.id,!0,{},o);return this.app.callEvent("onUIChange"),this.app.callEvent("onUISelected",[s]),!1},o.DeleteCell=function(){var e=this.$$("tree").getSelectedId(),t=this.Tree.remove(e);this.app.callEvent("onUIChange"),this.app.callEvent("onUISelected",[t])},o.SelectCell=function(e,t){t&&this.$$("tree").select(e),this.app.callEvent("onUISelected",[e])},o.SelectParent=function(){var e=this.$$("tree").getSelectedId();return this.app.callEvent("onUISelected",[this.$$("tree").getParentId(e)]),!1},n}(n.b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return n});var n=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.config=function(){var e=this;return{rows:[{paddingX:10,paddingY:3,css:"segmented_layout",type:"space",rows:[{view:"segmented",height:34,options:[{id:"workspace.form",value:"Common"},{id:"workspace.property",value:"All"}],on:{onChange:function(t){return e.show("./"+t)}}}]},{$subview:!0}]}},r.urlChange=function(e,t){var i=t[t.length-1].page;i&&e.queryView("segmented").setValue(i)},n}(i(0).b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return n});var n=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.config=function(){var e=this;return{view:"contextmenu",id:"designer-menu",data:["Delete"],on:{onMenuItemClick:function(t){"Delete"==t&&e.app.callEvent("onCellDeleted",[])}}}},r.init=function(e){this.app.attachEvent("onUISelectChange",function(){return e.hide()})},r.LinkMaster=function(e){this.getRoot().attachTo(e)},n}(i(0).b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return r});var n=i(0);i(51),i(52),i(53);var r=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.config=function(){var e=this;return{view:"form",css:"form_editor",scroll:!0,elements:[],padding:{top:0,left:0,right:10},elementsConfig:{labelWidth:120,labelAlign:"right",tooltip:{template:function(e){return e.descr||""}},on:{onEditorShow:function(t){return e.app.callEvent("onEditorShow",[t])},onStylesShow:function(){return window.open("/top/project.styles/"+e.DataApi.getProject(),"_blank")}}},on:{onChange:function(){return e.ApplyChanges()}}}},r.init=function(e){var t=this;this.Editor=e,this.TreeRules=this.app.getService("TreeRules"),this.DataApi=this.app.getService("data"),this.on(this.app,"onEditorApply",function(e,i){return t.updateItem(e,i)}),this.on(this.app,"onUndoChange",function(e){return t.UndoChange(e)})},r.urlChange=function(){var e=this,t=this.getParam("id",!0),i=this.TreeRules.getEditor();i.waitData.then(function(){if(t&&i.exists(t)){var n=webix.copy(i.getItem(t));n.view!==e.CurrentView?e.TreeRules.getConfig(n.view,e.Editor.name).then(function(t){t=t||[],e.CurrentView=n.view,e.setElements(webix.copy(t)),e.setValues(n)}):e.setValues(n)}})},r.UndoChange=function(e){e&&(this.Editor.clear(),this.urlChange())},r.ApplyChanges=function(){var e=this.TreeRules.getEditor(),t=this.getParam("id",!0),i=this.getDirtyValues();if(t&&e.exists(t)&&i){if(this.updateData(i,e.getItem(t)),i.height>0||i.width>0){var n=Object.keys(i)[0];this.TreeRules.adjustSize(t,n)}this.app.callEvent("onUIChange")}this.resetDirty()},r.setElements=function(e){this.Editor.define("elements",e),this.Editor.reconstruct()},r.setValues=function(e){var t=e.options;t&&webix.isArray(t)&&(t=t[0]&&"object"==typeof t[0]?t.map(function(e){return e.value}):t,e.options=t),this.Editor.setValues(e),this.resetDirty()},r.updateItem=function(e,t){this.Editor.elements[e].setValue(t),this.ApplyChanges()},r.getItemConfig=function(e){return this.Editor.elements[e].config},r.formatValue=function(e){return e=webix.Date.strToDate("%m/%d/%Y %H:%i")(e),webix.isDate(e)&&!isNaN(e.getTime())?webix.i18n.parseFormatStr(e):""},r.updateData=function(e,t){var i=this;for(var n in e)if(""!==e[n]&&"$blank"!==e[n]||"options"===n){var r=this.getItemConfig(n);if(r)if("number"==r.datatype)t[n]=1*e[n];else if("date"===r.datatype){var a=this.formatValue(e[n]);a?t[n]=a:delete t[n]}else if("daterange"===r.datatype){var o=e[n].split(" - ").map(function(e){return i.formatValue(e)});o[0]?(t[n]={start:o[0]},o[1]&&(t[n].end=o[1])):delete t[n]}else"array"===r.datatype?t[n]=e[n].split(","):"true"===e[n]||"false"===e[n]?t[n]="true"==e[n]:t[n]=e[n]}else delete t[n]},r.getDirtyValues=function(){var e=this.Editor.getDirtyValues();return 0===Object.keys(e).length?null:e},r.resetDirty=function(){this.Editor.setDirty(!1)},n}(n.b)},function(e,t,i){"use strict";i.r(t);var n=i(0),r=[{id:"barcode",type:2},{id:"bullet",type:2},{id:"button",type:5},{id:"calendar",type:5},{id:"chart",type:2},{id:"checkbox",type:5},{id:"colorboard",type:5},{id:"colorpicker",type:5},{id:"colorselect",type:5},{id:"combo",type:5},{id:"comments",type:1},{id:"counter",type:5},{id:"datatable",type:1},{id:"dataview",type:1},{id:"datepicker",type:5},{id:"daterange",type:5},{id:"daterangepicker",type:5},{id:"dbllist",type:1},{id:"fieldset",type:3},{id:"form",type:3},{id:"gage",type:2},{id:"geochart",type:2},{id:"google-map",type:2},{id:"grouplist",type:1},{id:"icon",type:5},{id:"iframe",type:2},{id:"label",type:5},{id:"list",type:1},{id:"menu",type:4},{id:"multicombo",type:5},{id:"multiselect",type:5},{id:"organogram",type:2},{id:"pager",type:5},{id:"property",type:1},{id:"radio",type:5},{id:"rangechart",type:5},{id:"rangeslider",type:5},{id:"richselect",type:5},{id:"richtext",type:5},{id:"search",type:5},{id:"segmented",type:5},{id:"select",type:5},{id:"sidebar",type:4},{id:"slider",type:5},{id:"switch",type:5},{id:"tabbar",type:5},{id:"template",type:2},{id:"text",type:5},{id:"textarea",type:5},{id:"texthighlight",type:5},{id:"timeboard",type:5},{id:"timeline",type:1},{id:"toggle",type:5},{id:"toolbar",type:3},{id:"tree",type:1},{id:"treemap",type:2},{id:"treetable",type:1},{id:"unitlist",type:1}],a=[{id:1,name:"Data",icon:"wxi-columns"},{id:2,name:"Visualization",icon:"mdi mdi-chart-areaspline"},{id:3,name:"Layouts",icon:"mdi mdi-view-dashboard-outline"},{id:4,name:"Navigation",icon:"mdi mdi-view-split-vertical"},{id:5,name:"Controls",icon:"mdi mdi-tune"}],o=i(1);i.d(t,"default",function(){return s});var s=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var s=n.prototype;return s.config=function(){var e=this;return{css:"widgets",rows:[{view:"search",localId:"search",placeholder:"Search",height:32,on:{onTimedKeyPress:function(){return e.FilterWidgets()}}},{type:"clean",cols:[{view:"list",localId:"location",css:"widgets_menu",width:36,tooltip:"#name#",template:function(e){return'<span class="webix_icon '+e.icon+'"></span>'},select:!0,on:{onBeforeSelect:function(t){return e.ScrollTo(t)}},ready:function(){return e.SilentSelect(e.$$("location").getFirstId())}},{view:"unitlist",localId:"widgets",css:"widgets_list",drag:"source",uniteBy:"#type#",type:{template:function(e){return"<span>"+(e.id.charAt(0).toUpperCase()+e.id.slice(1))+"</span>"},height:36,width:144,templateHeader:function(e){return a.find(function(t){return t.id==e}).name}},on:{onAfterScroll:function(){return e.ShowLocation()}}}]}]}},s.init=function(){var e=this;this.Widgets=this.$$("widgets"),this.Widgets.parse(r),webix.extend(this.Widgets,webix.OverlayBox),this.$$("location").parse(a),this.HoverEv=webix.event(this.Widgets.$view,"mouseover",function(t){e.ClearEffects(),e.HoverEffectsDelay=webix.delay(e.HoverEffects,e,[t],3e3)}),this.LeaveEv=webix.event(this.Widgets.$view,"mouseleave",function(){return e.ClearEffects()})},s.destroy=function(){webix.eventRemove(this.HoverEv),webix.eventRemove(this.LeaveEv)},s.ClearEffects=function(){this.LastItem&&(this.LastItem=this.Widgets.removeCss(this.LastItem,"hover_effects")),this.HoverEffectsDelay&&(this.HoverEffectsDelay=clearTimeout(this.HoverEffectsDelay))},s.HoverEffects=function(e){var t=this.Widgets.locate(e);t&&(this.LastItem=t,this.Widgets.addCss(t,"hover_effects"))},s.FilterWidgets=function(){var e=this.$$("search").getValue().toLowerCase();this.Widgets.filter(function(t){return-1!=t.id.toLowerCase().indexOf(e)}),this.Widgets.count()?this.Widgets.hideOverlay():this.Widgets.showOverlay("\n\t\t\t\t<div>Please, pat a cat..</div>\n\t\t\t\t"+o.a.cat+"\n\t\t\t\t<div>..and modify search criteria</div>\n\t\t\t")},s.CalculateScroll=function(e){for(var t=this.Widgets.getUnits(),i=0,n=0;n<t.indexOf(e);n++)i+=this.Widgets.getUnitList(t[n]).length+1;return webix.skin.$active.rowHeight*i},s.ShowLocation=function(){for(var e=this.Widgets.getScrollState().y,t=this.Widgets.getUnits(),i=0;i<t.length;i++)if(this.CalculateScroll(t[i])>=e)return this.SilentSelect(t[i]);t.length&&this.SilentSelect(t[t.length-1])},s.SilentSelect=function(e){var t=this.$$("location");t.blockEvent(),t.select(e),t.unblockEvent()},s.ScrollTo=function(e){var t=this.$$("search");return t.getValue()&&(t.setValue(""),this.FilterWidgets()),this.SmoothScroll(e),!1},s.SmoothScroll=function(e){var t=this,i=this.Widgets.getScrollState().y,n=this.CalculateScroll(e),r=n>i?n-i:i-n,a=Math.round(r/50),o=Math.round(r/25),s=n>i?i+o:i-o,l=0;if(n>i)for(var c=i;c<n;c+=o)webix.delay(function(e){return t.Widgets.scrollTo(0,e)},null,[s],l++*a),(s+=o)>n&&(s=n);else for(var u=i;u>n;u-=o)webix.delay(function(e){return t.Widgets.scrollTo(0,e)},null,[s],l++*a),(s-=o)<n&&(s=n)},n}(n.b)},function(e,t,i){"use strict";i.r(t);var n=i(0),r=i(2);i.d(t,"default",function(){return a});var a=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=n.prototype;return a.config=function(){var e=this;return{view:"window",css:"add_window",head:{padding:{top:40,right:40},cols:[{},{view:"button",type:"iconTop",icon:"wxi-close",label:"ESC",css:"webix_transparent",height:60,width:36,click:function(){e.getRoot().hide()}}]},fullscreen:!0,body:{view:"align",align:"middle,center",body:{view:"dataview",borderless:!0,localId:"preset",type:{width:440,height:296},xCount:3,yCount:2,scroll:"auto",template:function(e){return'<div class="catalog_item">\n\t\t\t\t\t\t\t<div class="catalog_image">\n\t\t\t\t\t\t\t\t<img src = "/codebase/assets/imgs/'+e.id+'.png">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="catalog_about">\n\t\t\t\t\t\t\t\t'+e.value+"\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>"},onClick:{catalog_item:function(t,i){e.Done(i)}}}}}},a.init=function(){var e=this,t=this.getParam("pid"),i=this.app.getService("data");i.trackProject(t).then(function(){var t=function(e){return[{id:"blank",value:"Blank",code:{rows:[Object(r.a)()]}},{id:"layout",value:"Layout",code:{rows:[Object(r.a)({template:"Header",height:50}),{cols:[Object(r.a)({template:"Menu",width:250}),Object(r.a)({template:"Content"})]},Object(r.a)({template:"Footer ",height:50})]}},{id:"form",value:"Form",code:{rows:[{view:"toolbar",css:"webix_dark",paddingX:5,cols:[{view:"icon",icon:"wxi-clock"},{view:"label",label:"Event Planner"},{view:"button",label:"Close",width:80}]},{view:"form",margin:40,rows:[{margin:20,cols:[{margin:10,rows:[{view:"template",type:"section",template:"Event"},{view:"text",placeholder:"Type here...",label:"Event Name",labelWidth:100},{view:"datepicker",label:"Start Date",value:new Date,timepicker:!0,format:"%H:%i %D, %d %M",labelWidth:100},{view:"datepicker",label:"End Date",value:webix.Date.add(new Date,1,"hour"),format:"%H:%i %D, %d %M",timepicker:!0,labelWidth:100},{view:"rangeslider",label:"Time Slot",min:8,max:20,value:[10,15],title:"#value#",labelWidth:100},{view:"multicombo",label:"Speakers",value:"1,2",options:"demo->"+e.users,labelWidth:100},{view:"richselect",label:"Room",value:"1",options:"demo->"+e.options,labelWidth:100},{view:"counter",label:"Participants",value:30,labelWidth:100}]},{margin:10,rows:[{view:"template",type:"section",template:"Handouts"},{view:"radio",label:"Font Family",value:"Arial",options:["Roboto","Arial","Calibri"],labelWidth:130},{view:"radio",label:"Font Weight",value:"400",options:["400","500","700"],labelWidth:130},{view:"text",label:"Font Size (px)",value:"14",labelWidth:130},{view:"colorpicker",label:"Background",value:"#CE9EFF",labelWidth:130},{view:"colorpicker",label:"Font Color",value:"#6C6C6C",labelWidth:130},{view:"colorpicker",label:"Header Font",value:"#00004C",labelWidth:130},{view:"checkbox",value:1,label:"Material Icons",labelWidth:130}]}]},{view:"textarea",placeholder:"Type here...",label:"Additional Details",labelPosition:"top",labelWidth:100},{margin:10,cols:[Object(r.a)({template:" ",borderless:!0}),{view:"button",label:"Preview",css:"webix_transparent",align:"right",width:120},{view:"button",css:"webix_primary",label:"Save",align:"right",width:120}]}]}]}},{id:"top",value:"Top Menu",code:{type:"wide",rows:[{view:"toolbar",css:"webix_dark",padding:{right:10,left:10},elements:[{view:"menu",url:"demo->"+e.menu},{view:"label",label:"New app ",align:"right"}]},{cols:[{rows:[{view:"tree",width:250,url:"demo->"+e.tree,select:!0},{weekHeader:!0,view:"calendar",events:webix.Date.isHoliday}]},{rows:[{view:"datatable",columns:[{id:"title",header:"Title",fillspace:!0,sort:"string"},{id:"year",header:"Year",sort:"string"},{id:"votes",header:"Votes",sort:"string"},{id:"rating",header:"Rating",sort:"string"},{id:"rank",header:"Rank",sort:"string"},{id:"category",header:"Category",sort:"string"}],select:!0,scrollX:!1,url:"demo->"+e.table},{type:"clean",view:"form",minHeight:380,elements:[{rows:[{view:"multicombo",label:"To",value:"2,3",options:"demo->"+e.options},{view:"text",label:"Subject"},{view:"textarea",label:"Message",height:150}]},{view:"button",value:"Send Message",css:"webix_primary",align:"center",inputWidth:200}]}]}]}]}},{id:"left",value:"Left Menu",code:{rows:[{view:"toolbar",css:"webix_dark",padding:{right:10,left:10},elements:[{view:"label",label:"My App"}]},{type:"wide",cols:[{view:"sidebar",url:"demo->"+e.sidebar,width:200},{rows:[{view:"datatable",columns:[{id:"title",header:"Title",fillspace:!0,sort:"string"},{id:"year",header:"Year",sort:"string"},{id:"votes",header:"Votes",sort:"string"},{id:"rating",header:"Rating",sort:"string"},{id:"rank",header:"Rank",sort:"string"},{id:"category",header:"Category",sort:"string"}],select:!0,scrollX:!1,url:"demo->"+e.table},{view:"form",minHeight:380,autoheight:!1,elements:[{view:"multicombo",label:"To",value:"2,3",options:"demo->"+e.options},{view:"text",label:"Subject"},{view:"textarea",label:"Message",height:150},{view:"button",value:"Send Message",css:"webix_primary",align:"center",inputWidth:200}]}]}]}]}},{id:"data",value:"Data",code:{cols:[{width:200,rows:[{padding:{left:10},cols:[{view:"label",label:"Users"},{view:"icon",icon:"wxi-search"}]},{view:"list",url:"demo->"+e.list}]},{rows:[{view:"chart",type:"spline",xAxis:{template:"#value#",lines:!1},yAxis:{},url:"demo->"+e.chart},{cols:[{view:"chart",width:400,pieInnerText:"#value#",label:"#month#",url:"demo->"+e.chart},{view:"geochart",url:"demo->"+e.countries}]},{cols:[{view:"datatable",columns:[{id:"title",header:"Title",fillspace:!0,sort:"string"},{id:"year",header:"Year",sort:"string"},{id:"votes",header:"Votes",sort:"string"},{id:"rating",header:"Rating",sort:"string"},{id:"rank",header:"Rank",sort:"string"},{id:"category",header:"Category",sort:"string"}],url:"demo->"+e.table},{view:"chart",type:"barH",yAxis:{template:"#value#"},xAxis:{},color:"#color#",url:"demo->"+e.chart}]}]}]}}]}(i.getDefaultConfig());e.$$("preset").parse(t)})},a.Show=function(){this.getRoot().show()},a.Done=function(e){var t=this.$$("preset").getItem(e);this.app.callEvent("onDesignAdd",[{jscode:JSON.stringify(t.code),name:t.value}]),this.getRoot().hide()},n}(n.b)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={logo:i(49),message:i(50)}},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return a});var n=i(0),r=i(4);var a=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=n.prototype;return a.config=function(){var e=this,t={view:"form",localId:"form",css:"login_form",width:504,padding:0,margin:26,rows:[{view:"template",template:"Register as a new user",css:"login_title",height:40,borderless:!0},{margin:10,rows:[{view:"text",name:"name",placeholder:"Your name",invalidMessage:"Cannot be empty"},{view:"text",name:"email",placeholder:"Your email",invalidMessage:"Email expected"},{view:"text",name:"pass",placeholder:"Password",invalidMessage:"Must be at least 6 characters long",type:"password"}]},{view:"button",css:"login_accent",value:"Register",inputWidth:131,align:"center",hotkey:"enter",click:function(){return e.Register()}},{view:"template",height:24,borderless:!0,css:"login_helpers",template:"\n\t\t\t\t\t\t<div style=\"text-align:center;\">\n\t\t\t\t\t\t\tAlready have an account?\n\t\t\t\t\t\t\t<a class='action-link' route='./login'> Log in</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"},{template:"Or",type:"section",height:26,css:"login_section"},{view:"button",value:"Register with Google",css:"google_button",click:function(){return e.RegisterWithGoogle()}}],rules:{name:webix.rules.isNotEmpty,email:webix.rules.isEmail,pass:function(e){return e&&e.length>5}}};return{css:"login_layout",margin:50,padding:{right:50},cols:[Object(r.a)(),{align:"center,middle",body:t}]}},a.init=function(){var e=this.$$("form"),t=this.getParam("email");if(t){var i=e.elements.email;i.config.value=t,i.config.readonly=!0,i.refresh()}e.focus()},a.Register=function(){var e=this,t=this.$$("form");if(t.validate()){var i=t.getValues();this.app.getService("auth").register(i.name,i.email,i.pass).then(function(){e.show("/top/project.all")}).catch(function(){return e.IncorrectRegister()})}},a.RegisterWithGoogle=function(){document.location.href="/auth/google/login"},a.IncorrectRegister=function(){var e=this.$$("form"),t=e.elements.email.config.invalidMessage;e.markInvalid("email","User with such email already exists"),e.elements.email.define("invalidMessage",t),e.elements.email.focus()},n}(n.b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return a});var n=i(0),r=i(4);var a=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=n.prototype;return a.config=function(){var e=this,t={view:"form",localId:"form",css:"login_form",width:504,padding:0,margin:26,rows:[{view:"template",template:"Reset a password",css:"login_title",height:40,borderless:!0},{margin:10,rows:[{view:"text",name:"password",placeholder:"New password",invalidMessage:"Must be at least 6 characters long",type:"password"},{view:"text",name:"confirm",placeholder:"Confirm new password",invalidMessage:"Passwords must be the same",type:"password"}]},{view:"button",css:"login_accent",value:"Log in",inputWidth:125,align:"right",hotkey:"enter",click:function(){return e.Reset()}}],rules:{password:function(e){return e&&e.length>5},confirm:function(e,t){return t.password===t.confirm}}};return{css:"login_layout",margin:50,padding:{right:50},cols:[Object(r.a)(),{align:"center,middle",body:t}]}},a.init=function(){this.$$("form").focus()},a.Reset=function(){var e=this,t=this.$$("form");if(t.validate()){var i=t.getValues();delete i.confirm,this.app.getService("settings").user.update(i).then(function(t){!1!==t&&e.show("/top/project.all")})}},n}(n.b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return o});var n=i(0),r=i(4),a=i(25);var o=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var o=n.prototype;return o.config=function(){var e=this,t={view:"form",localId:"form",css:"login_form",width:504,padding:0,margin:26,rows:[{view:"template",template:"Restore a password",css:"login_title",height:40,borderless:!0},{view:"text",name:"email",placeholder:"Your email",invalidMessage:"Email expected"},{cols:[{view:"template",borderless:!0,css:"login_helpers login_back",template:"<a class='action-link' route='./login'>Back to Login</a>"},{view:"button",css:"login_accent",value:"Restore",width:142,hotkey:"enter",click:function(){return e.Restore()}}]}],rules:{email:webix.rules.isEmail}},i={width:504,margin:26,rows:[{view:"template",height:103,css:"login_message_img",borderless:!0,template:a.a.message},{view:"template",template:"Reset a password",css:"login_title",height:40,borderless:!0},{view:"template",autoheight:!0,css:"login_message",borderless:!0,template:"We have sent a verification email to your address.<br>Please click on the link provided in the email."},{view:"template",height:38,css:"login_helpers login_back",borderless:!0,template:"<a class='action-link' route='./login'>Back to Login</a>"},{height:103}]};return{css:"login_layout",margin:50,padding:{right:50},cols:[Object(r.a)(),{visibleBatch:"main",localId:"right",rows:[{align:"center,middle",body:t,batch:"main"},{align:"center,middle",body:i,batch:"message"}]}]}},o.init=function(){this.$$("form").focus()},o.Restore=function(){var e=this,t=this.$$("form");if(t.validate()){var i=t.getValues().email;this.app.getService("backend").api.user.restore(i).then(function(){e.$$("right").showBatch("message")})}},n}(n.b)},function(e,t,i){"use strict";var n=i(1);webix.protoUI({name:"editview",defaults:{borderless:!0,editaction:"custom",editor:"text",editValue:"name",editable:!0,template:function(e){return e.add?'<div class="catalog_add catalog_item"><div>'+n.a.add+"New "+e.add+"</div></div>":(e.jscode?i=e.thumb:(t='<span class="catalog_shares webix_icon mdi mdi-'+(e.private?"lock-outline":"account-group")+'"></span>',i=e.count?"/codebase/assets/imgs/ui.png":""),'\n\t\t\t\t\t<div class="catalog_item">\n\t\t\t\t\t\t<div class="catalog_image">\n\t\t\t\t\t\t\t'+(i?'<img src="'+i+'""></div>':'<div class="catalog_empty">'+n.a.tea+"</div>")+'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="catalog_about">\n\t\t\t\t\t\t\t'+(t||"")+'\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span class="catalog_name">'+e.name+'</span>\n\t\t\t\t\t\t\t\t<span class="catalog_date">Modified '+e.updatedStr+'</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button type="button" class="webix_icon_button catalog_actions">\n\t\t\t\t\t\t\t\t'+n.a.menu+"\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>");var t,i},type:{width:364,height:228}}},webix.EditAbility,webix.ui.dataview)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return o});var n=i(0),r=(i(29),i(9)),a=i(7);var o=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var o=n.prototype;return o.config=function(){var e=this,t={view:"editview",localId:"data",css:"catalog_projects",onClick:{catalog_item:function(t,i){e.$$("data").getEditor()||e.show("./project?pid="+i)},catalog_add:function(){return e.$$("data").getEditor()||e.Add(),!1},catalog_actions:function(t,i){return e.app.callEvent("onProjectMenuShow",[t,e.$$("data").getItem(i),"catalog"]),!1}},on:{onBeforeEditStop:function(t,i){return e.Rename(t,i)}}};return{css:"projects",margin:20,padding:{top:40,left:40,right:40},rows:[{$subview:a.default,name:"subbar"},t]}},o.init=function(){var e=this;this.app.callEvent("showBreadcrumbs",[]),this.on(this.app,"onCatalogFilter",function(t,i,n){return e.Filter(t,i,n)}),this.on(this.app,"onProjectRename",function(t){return e.Edit(t)}),this.on(this.app,"onProjectDuplicate",function(t){return e.Duplicate(t)}),this.on(this.app,"onProjectShare",function(t,i){return e.SetShared(t,i)})},o.ready=function(){var e=this,t=this.app.getService("projects");this.Data=t.data,t.refresh().then(function(){e.$$("data").sync(e.Data,function(){e.$$("data").add({add:"Project"},0),e.getSubView("subbar").Filter()})})},o.Sort=function(e){1==e?this.$$("data").sort(r.a,"asc"):this.$$("data").sort(r.b,"asc")},o.Filter=function(e,t,i){e=e.toLowerCase(),2==i?this.$$("data").filter(function(t){return t.add||!t.private&&-1!=t.name.toLowerCase().indexOf(e)}):3==i?this.$$("data").filter(function(t){return t.add||t.private&&-1!=t.name.toLowerCase().indexOf(e)}):this.$$("data").filter(function(t){return t.add||-1!=t.name.toLowerCase().indexOf(e)}),this.Sort(t)},o.Add=function(){var e=this;this.Data.waitSave(function(){e.Data.add({name:"New Project"}),e.app.callEvent("onCatalogAdd",[])}).then(function(t){return e.Edit(t.id)})},o.Edit=function(e){this.$$("data").edit(e)},o.Rename=function(e,t){e.value=e.value.trim(),e.value?e.old!=e.value&&this.Data.updateItem(t.id,{name:e.value}):e.value=e.old},o.Duplicate=function(e){var t=this;webix.dp(this.Data).ignore(function(){t.Data.add(e),t.app.callEvent("onCatalogAdd",[])})},o.SetShared=function(e,t){var i=this;webix.dp(this.Data).ignore(function(){return i.Data.updateItem(e,{private:t})})},n}(n.b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return o});var n=i(0),r=i(1),a=i(12);i(32);var o=function(e){var t,i;function o(){return e.apply(this,arguments)||this}i=e,(t=o).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var s=o.prototype;return s.config=function(){var e=this;return{cols:[{rows:[{view:"toolbar",padding:0,margin:0,localId:"list_toolbar",visibleBatch:"info",css:"data_toolbar",cols:[{view:"text",placeholder:"Search by data source name",localId:"filter",css:"data_filter",batch:"filter",on:{onTimedKeyPress:function(){return e.FilterData()},onChange:function(){return e.FilterData()},onBlur:function(){return e.ChangeFilterMode("info")}}},{view:"icon",icon:"wxi-close",batch:"filter",css:"data_filter",click:function(){return e.StopFilter()}},{view:"label",label:"Data sources",css:"data_title",batch:"info"},{view:"icon",icon:"wxi-search",batch:"info",click:function(){return e.ChangeFilterMode("filter")}},{view:"icon",icon:"mdi mdi-plus",batch:"info",click:function(){return e.AddData()}}],elementsConfig:{height:34}},{view:"list",width:260,select:!0,template:"#name#",css:"data_list",on:{onAfterSelect:function(t){return e.setParam("ds",t,!0)}}}]},{disabled:!0,localId:"details",rows:[{view:"toolbar",padding:{left:5,right:18,top:0,bottom:0},margin:14,localId:"details_toolbar",visibleBatch:"title",css:"data_toolbar",cols:[{localId:"title",batch:"title",css:"data_title",borderless:!0,template:function(e){return(e.name||"")+(e.default?"<span class='default_mark'> (default)</span>":"")}},{view:"text",batch:"rename",localId:"rename",css:"data_rename",gravity:2,on:{onEnter:function(){return e.RenameData()},onBlur:function(){return e.RenameData()}}},{borderless:!0,width:108,css:"data_menu",localId:"menu",template:function(e){return r.a.tune+"<span class='data_menu_text'>Options</span>"+(e.open?r.a.up:r.a.down)},onClick:{data_menu:function(){return e.ShowMenu()}}},{view:"button",width:80,label:"Save",localId:"save",css:"data_save",type:"icon",icon:"mdi mdi-check",click:function(){return e.SaveData()}}],elementsConfig:{height:34}},{view:"wd_codemirror",mode:"javascript",format:"array"}]}]}},s.init=function(e){var t=this;this.use(n.d.UrlParam,["pid","ds"]),this.use(n.d.UnloadGuard,function(){return t.UnloadGuard()}),this.Pid=this.getParam("pid"),this.List=e.queryView("list"),this.Editor=e.queryView("wd_codemirror"),this.DataApi=this.app.getService("data"),webix.extend(this.List,webix.OverlayBox),webix.promise.all([this.DataApi.trackProject(this.Pid),this.app.getService("projects").getOne(this.Pid)]).then(function(e){var i=e[0],n=e[1];if("read"===n.mode)return t.DeSync=!0,t.app.show("/top/project.all");t.Sources=i,t.List.sync(t.Sources,function(){return t.FilterData()});var r=t.getParam("ds");t.Sources.exists(r)||(r=t.Sources.getFirstId()),t.setParam("ds",""),t.List.select(r),t.Room=t.app.getService("rooms").getRoom(n.id,"data"),t.Room.track(t),t.app.callEvent("showBreadcrumbs",[n,null,"Data sources"])}),this.on(this.app,"onDataAction",function(e){return t.onDataAction(e)}),this.on(this.app,"onAppDeSync",function(){t.DeSync||(t.Room.leave(),t.List.data.unsync()),t.DeSync=!0}),this.DataMenu=this.ui(a.default),this.Editor.getEditor(!0).then(function(e){e.on("changes",function(){t.changes_handler&&(t.changes_handler=window.clearTimeout(t.changes_handler)),t.changes_handler=webix.delay(function(){return t.TrackChanges()},t,[],250)})}),this.AddHotKeys()},s.urlChange=function(){var e=this.getParam("ds");e&&this.Sources&&this.Sources.exists(e)&&this.ShowDetails(e)},s.destroy=function(){for(var e in this.HotKeys)webix.UIManager.removeHotKey(e)},s.AddHotKeys=function(){var e,t=this,i=webix.env.isMac?"command":"ctrl";this.HotKeys=((e={})[i+"-r"]="rename",e[i+"-d"]="duplicate",e[i+"-s"]="save",e);var n=function(e){webix.UIManager.addHotKey(e,function(i,n){if(t.$$("details").isEnabled()){if("d"===n.key&&i&&"wd_codemirror"===i.name)return;t.onDataAction(t.HotKeys[e],!0)}return webix.html.preventEvent(n)})};for(var r in this.HotKeys)n(r)},s.ShowDetails=function(e){var t=this.Sources.getItem(e);this.DataSource=e,this.AllowRename=!1,this.$$("title").setValues({name:t.name,default:t.default}),this.Editor.setValue(t.json),this.$$("details").enable()},s.UnloadGuard=function(){var e=this;if(this.DeSync)return!0;var t=this.DataSource,i=this.Sources.getItem(t),n=this.Editor.getValue();return!n||n===i.json||webix.confirm({text:"You will lose unsaved changes, are you sure?",callback:function(i){i||(e.SilentSelect(),e.setParam("ds",t))}})},s.ChangeFilterMode=function(e){var t=this.$$("filter");e=t.getValue()?"filter":e,this.$$("list_toolbar").showBatch(e),"filter"!==e||webix.UIManager.hasFocus(t)||t.focus()},s.StopFilter=function(){this.$$("filter").setValue(""),this.$$("list_toolbar").showBatch("info")},s.StartRename=function(){var e=this.$$("title").getValues(),t=this.$$("rename");this.$$("details_toolbar").showBatch("rename"),this.AllowRename=!0,t.setValue(e.name),webix.UIManager.hasFocus(t)||t.focus(),webix.html.setSelectionRange(t.getInputNode(),0,e.name.length)},s.ShowMenu=function(){var e=this.DataSource,t=this.Sources.getItem(e),i=this.$$("menu"),n=this.DataMenu.Show(i.$view,t);i.setValues({open:n})},s.onDataAction=function(e,t){switch(e){case"rename":this.StartRename();break;case"duplicate":this.CloneData();break;case"restore":this.RestoreDefault();break;case"delete":this.DeleteData();break;case"save":this.SaveData()}t||this.$$("menu").setValues({open:!1})},s.FilterData=function(){var e=this.$$("filter").getValue();this.List.filter("#name#",e),this.CheckListState()},s.CheckListState=function(){var e=this.DataSource,t=this.$$("details");this.List.count()?(this.List.hideOverlay(),-1!==this.List.data.order.indexOf(e)&&this.SilentSelect()):this.List.showOverlay("\n\t\t\t\t<div>Please, pat a cat..</div>\n\t\t\t\t<div>"+r.a.cat+"</div>\n\t\t\t\t<div>..and modify search criteria</div>\n\t\t\t"),this.List.isSelected(e)?this.ShowDetails(e):(t.disable(),this.$$("title").setValues({}),this.Editor.setValue(""))},s.SilentSelect=function(){this.DataSource&&(this.List.blockEvent(),this.List.select(this.DataSource),this.List.unblockEvent(),this.List.showItem(this.DataSource))},s.TrackChanges=function(){if(this.Sources.exists(this.DataSource)){var e=this.$$("save"),t="mdi mdi-check";if(this.$$("details").isEnabled())t=this.Sources.getItem(this.DataSource).json!=this.Editor.getValue()?"mdi mdi-circle":"mdi mdi-check";e.config.icon!==t&&(e.define("icon",t),e.render())}},s.AddData=function(e){var t=this;e=e||{name:"New Data",json:"[\n\t\n]",project:this.Pid},this.Sources.waitSave(function(){t.Sources.add(e)}).then(function(e){t.List.select(e.id)})},s.CloneData=function(){var e=this.DataSource,t=this.Sources.getItem(e),i={name:"Copy of "+t.name,json:t.json,project:this.Pid};this.AddData(i)},s.RestoreDefault=function(){var e=this,t=this.DataSource;this.webix.confirm("Data will return to its default state, are you sure ?",function(i){i&&e.DataApi.getDefault(e.Sources.getItem(t).default).then(function(i){return e.Sources.updateItem(t,i)})})},s.DeleteData=function(){var e=this,t=this.DataSource;this.webix.confirm("This data source will be deleted, are you sure ?",function(i){if(i){var n=e.List.getPrevId(t);n&&e.List.select(n),e.Sources.remove(t)}})},s.SaveData=function(){var e=this.DataSource;if(this.Editor.validate()){var t=this.Sources.getItem(e),i={json:this.Editor.getValue()};t.default&&!t.modified&&(i.modified=!0),i.json!==t.json&&this.Sources.updateItem(e,i)}else webix.message({text:"Syntax Error",type:"error"})},s.RenameData=function(){var e=this.DataSource,t=this.$$("rename").getValue().trim();if(t&&this.AllowRename){var i=this.Sources.getItem(e),n={name:t};i.default&&!i.modified&&(n.modified=!0),t!==i.name&&(this.Sources.updateItem(e,n),this.$$("title").setValues(n,!0))}this.AllowRename=!1,this.$$("details_toolbar").showBatch("title")},o}(n.b)},function(e,t){webix.protoUI({name:"wd_codemirror",_lines:[],$init:function(){this.$ready.push(this._init_events)},defaults:{format:"any"},validate:function(){var e=this.getEditor().getValue();try{var t=JSON.parse(e);switch(this.config.format){case"array":t=webix.isArray(t)?t:[t];break;case"object":t=webix.isArray(t)?{rows:t}:t}return this.setValue(JSON.stringify(t,null,"\t")),!0}catch(t){var i=t.message,n=i.indexOf("position");if(-1!==n){var r=0;n=Number(i.substring(n+9)),i=e.substring(0,n+1);for(var a=0;a<i.length;a++)"\n"===i[a]&&r++;this.mark(r)}return!1}},mark:function(e){var t=this.getEditor().getDoc();(e||0===e)&&this._lines.push(t.addLineClass(e,"background","invalid_line"))},unmarkAll:function(){for(var e=this.getEditor().getDoc();this._lines.length;)e.removeLineClass(this._lines.pop(),"background","invalid_line")},_init_events:function(){var e=this;this.getEditor(!0).then(function(t){t.on("changes",function(){return e.unmarkAll()})})},getValue:function(){var e=webix.ui["codemirror-editor"].prototype.getValue.call(this);return e?e=JSON.stringify(JSON.parse(e),null,"\t"):e},setValue:function(e){return this._lines=[],e=this.codeFormat(e),webix.ui["codemirror-editor"].prototype.setValue.call(this,e)},codeFormat:function(e){return e=e.replace(/\{\s+([^}[]+)\n\s+\}/g,function(e,t){return t.split(",").length<6&&t.length<150?"{ "+t.replace(/\n\s+/g," ")+" }":e})}},webix.ui["codemirror-editor"])},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return r});var n=i(0);var r=function(e){var t,i;function r(){return e.apply(this,arguments)||this}i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=r.prototype;return a.config=function(){var e=this;return{rows:[{view:"toolbar",css:"data_toolbar",elementsConfig:{height:34},padding:{top:0,bottom:0,left:0,right:18},cols:[{view:"label",label:"Custom styles",css:"data_title"},{view:"button",width:80,label:"Save",localId:"save",css:"data_save",type:"icon",icon:"mdi mdi-check",click:function(){return e.SaveData()}}]},{view:"codemirror-editor",mode:"css"}]}},a.init=function(e){var t=this;this.use(n.d.UrlParam,["pid"]),this.Pid=this.getParam("pid"),this.Editor=e.queryView("codemirror-editor");var i=this.app.getService("projects");webix.promise.all([i.getStyles(this.Pid),i.getOne(this.Pid)]).then(function(e){var i=e[0],n=e[1];if("read"===n.mode)return t.app.show("/top/project.all");t.Css=i,t.Editor.setValue(i),t.Room=t.app.getService("rooms").getRoom(n.id,"style"),t.Room.track(t),t.app.callEvent("showBreadcrumbs",[n,null,"Custom styles"])}),this.on(this.app,"onAppDeSync",function(){return t.Room.leave()}),this.Editor.getEditor(!0).then(function(e){e.on("changes",function(){t.changes_handler&&(t.changes_handler=window.clearTimeout(t.changes_handler)),t.changes_handler=webix.delay(function(){return t.TrackChanges()},t,[],250)})}),this.AddHotKeys()},a.destroy=function(){var e=webix.env.isMac?"command":"ctrl";webix.UIManager.removeHotKey(e+"-s")},a.AddHotKeys=function(){var e=this,t=webix.env.isMac?"command":"ctrl";webix.UIManager.addHotKey(t+"-s",function(t,i){return e.SaveData(),webix.html.preventEvent(i)})},a.TrackChanges=function(){var e=this.$$("save"),t=this.Css!=this.Editor.getValue()?"mdi mdi-circle":"mdi mdi-check";e.config.icon!==t&&(e.define("icon",t),e.render())},a.SaveData=function(){var e=this.Editor.getValue();if(e!=this.Css){var t=this.app.getService("projects");this.Css=e,t.saveStyles(this.Pid,e),this.TrackChanges()}},r}(n.b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return a});var n=i(0),r=i(8);var a=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=n.prototype;return a.config=function(){var e=this,t={paddingX:17,cols:[{},{view:"button",value:"Save",css:"settings_save",width:144,click:function(){return e.SaveData()}}]};return{css:"settings_layout",rows:[{align:"center",body:{rows:[{height:76},{view:"template",template:"User settings",height:36,borderless:!0,css:"settings_title"},{padding:{left:19,top:20,right:17,bottom:0},cols:[{view:"template",localId:"avatar",css:"avatar_preview",borderless:!0,height:100,width:100,template:function(e){return(e.avatar?'<img class="avatar_preview_img" src="'+e.avatar+'">':Object(r.a)(e.name))+"<div class='avatar_preview_overlay'></div>"},onClick:{avatar_preview:function(){return e.Uploader.fileDialog()}}},{}]},{width:456,view:"form",localId:"uform",elementsConfig:{labelPosition:"top"},rows:[{view:"text",label:"Name",name:"name",required:!0,invalidMessage:"Name can't be empty"},{view:"text",label:"Email",name:"email",required:!0,readonly:!0},{view:"text",label:"Password",name:"password",invalidMessage:"Must be at least 6 characters long",placeholder:"Leave empty to preserve the existing password",type:"password"}],rules:{name:webix.rules.isNotEmpty,password:function(e){return!e||e.length>5}}},t]}},{gravity:1e-4}]}},a.init=function(){var e=this;this.app.callEvent("showBreadcrumbs",[]),this.User=this.app.getService("auth").getUser(),this.$$("uform").setValues(this.User),this.$$("avatar").setValues(this.User);var t={view:"uploader",apiOnly:!0,multiple:!1,upload:"/upload/avatar",accept:"image/png, image/gif, image/jpeg, image/bmp",on:{onBeforeFileAdd:function(t){return e.ValidateFile(t)},onFileUpload:function(t,i){return e.FileUpload(t,i)}}};this.Uploader=this.ui(t)},a.ValidateFile=function(e){var t=!0;return e.file&&-1===this.Uploader.config.accept.indexOf(e.file.type)&&(t=!1),e.size&&e.size>5242880&&(t=!1),t||webix.message("Image size shouldn't exceed 5Mb"),t},a.FileUpload=function(e,t){var i={avatar:t.url};this.$$("avatar").setValues(i,!0),webix.extend(this.User,i,!0)},a.SaveData=function(){var e=this,t=this.$$("uform");if(t.validate()){var i=t.getValues();this.app.getService("settings").user.update(i).then(function(t){!1!==t&&(webix.extend(e.User,i,!0),e.User.avatar||e.$$("avatar").setValues(i,!0),e.app.callEvent("onUserNameUpdate",[i.name]))})}},n}(n.b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return a});var n=i(0),r=i(8);var a=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=n.prototype;return a.config=function(){return{view:"list",layout:"x",xCount:5,autowidth:!0,scroll:!1,borderless:!0,type:{height:44,width:44},css:"teamwork_list",tooltip:"#name#",template:function(e){return e.$more?'<div class="more_users">+'+e.$more+"</div>":e.avatar?'<img class="avatar_img" src="'+e.avatar+'">':Object(r.a)(e.name)}}},a.init=function(e){var t=this;this.List=e,this.on(this.app,"onTeamworkUpdate",function(e){return t.UpdateUsers(e)})},a.UpdateUsers=function(e){this.List.clearAll(),e.length>5&&(e=[{$more:e.length-4,name:""}].concat(e.slice(0,4))),this.List.parse(e)},n}(n.b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return o});var n=i(0),r=i(6),a=i(5);var o=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var o=n.prototype;return o.config=function(){var e=this.app.getService("auth").getUser();if(!e)return a.default;var t={rows:[r.default,{$subview:!0}]};return e.temp&&t.rows.unshift({view:"template",height:30,css:"register_call",borderless:!0,template:"\n\t\t\t\t\tThis is a demo account only. Please <a class='action-link' route='/login.register'>register</a>\n\t\t\t\t\t or <a class='action-link' route='/login'>login</a> to save your data.\n\t\t\t\t"}),t},o.init=function(){var e=this,t=this.getRoot();webix.extend(t,webix.ProgressBar);var i=0;this.on(webix,"onRemoteCall",function(e){i++,t.showProgress({type:"top",delay:2e3}),e.then().catch().then(function(){0==--i&&t.hideProgress()})}),this.on(webix,"onRemoteError",function(t){if(t&&t.Desync)e.app.callEvent("onAppDeSync",[t])&&!e.DeSync&&(e.DeSync=!0,webix.alert({width:400,text:"Sorry, the active entity is no longer accessible. <br>The app will be reloaded.",callback:function(){e.app.getService("data").reset(),e.app.show("/top/project.all"),delete e.DeSync}}));else if(window.console.error(t),e.app.config.debug){var i=t&&t.Text?t.Text:t;webix.message({type:"error",text:"Server side error<br>"+i})}})},n}(n.b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return r});var n=i(0);i(32);var r=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.config=function(){return{view:"wd_codemirror",format:"object"}},r.init=function(){var e=this;this.RefreshCode().then(function(t){return e.Value=t}),this.on(this.app,"onPreviewRepaint",function(){return e.RefreshCode()}),this.on(this.app,"app:guard",function(t,i){return i!=e&&!i.contains(e)||e.ValidateCode()})},r.destroy=function(){var e=this.getRoot().getValue();if(this.Value!=e){var t=JSON.parse(e),i=this.app.getService("TreeRules"),n=this.app;i.getEditor().loadConfig(t),setTimeout(function(){i.adjustAll(),n.callEvent("onUIChange")},1e3)}},r.ValidateCode=function(){var e=this,t=this.getRoot();if(t.getEditor()&&!t.validate())return webix.confirm({title:"Invalid data",text:"Do you want to restore the previous state?"}).then(function(){t.setValue(e.Value)}),this.app.callEvent("onModeSet",["code"]),!1},r.RefreshCode=function(){var e=this,t=this.app.getService("TreeRules").getEditor();return t.waitData.then(function(){var i=JSON.stringify(t.getUI(!0)||{},null,"\t");return e.getRoot().setValue(i),i})},n}(n.b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return o});var n=i(0),r=i(3),a=i(1);var o=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var o=n.prototype;return o.config=function(){var e=this;return{rows:[{view:"toolbar",padding:{left:10},css:"editor_toolbar",cols:[{view:"label",localId:"head"},{view:"icon",icon:"wxi-close",click:function(){return e.app.callEvent("onEditorHide")}}]},{rows:[{padding:{top:20,left:16,right:16,bottom:0},margin:20,rows:[{view:"list",select:!0,yCount:8,scroll:"auto",borderless:!0,drag:"order",type:{css:"editor_list_item"},css:"editor_list",template:function(e){return a.a.drag+(e.header||e.label||e.id)+a.a.trash},onClick:{trash_icon:function(e,t){this.remove(t),this.select(this.getFirstId())}},on:{onAfterDrop:function(){return e.Save()},onAfterSelect:function(t){return e.ShowDetails(t)},"data->onStoreUpdated":function(t,i,n){n&&"paint"!==n&&e.Save()}}},{view:"button",localId:"add",css:"editor_add",click:function(){return e.AddColumn()}}]},{view:"form",scroll:"auto",padding:{top:25,left:0,right:10},elements:[],elementsConfig:{labelWidth:120,labelAlign:"right",tooltip:{template:function(e){return e.descr||""}}},on:{onChange:function(){return e.UpdateList()}}}]}]}},o.init=function(e){this.List=e.queryView("list"),this.Form=e.queryView("form")},o.ShowDetails=function(e){var t=webix.copy(this.List.getItem(e));delete t.id,this.Form.setValues(t)},o.UpdateList=function(){var e=this.Form.getValues({hidden:!1}),t=this.List.getSelectedId();e=Object(r.b)(e,this.Form),t&&this.List.updateItem(t,e)},o.AddColumn=function(){var e=this.List.add({id:webix.uid(),header:"new column"});1===this.List.count()&&this.List.select(e)},o.ChangeEditor=function(e){this.Form.define("elements",r.a[e]),this.Form.reconstruct(),this.$$("head").setHTML('Configure "'+this.SavedId+'"'),this.$$("add").setValue("+ Add "+("columns"==e?"column":"element")),this.Type=e},o.setValue=function(e){for(var t in e=e||[])e[t].$id=e[t].id||"";this.List.clearAll(),this.List.parse(e)},o.setConfig=function(e){this.SavedId=e.id,this.Type!==e.type&&this.ChangeEditor(e.type),this.setValue(e.value),this.List.select(this.List.getFirstId()),this.getRoot().show()},o.Save=function(){var e=this.List.serialize(),t=[];for(var i in e){var n=webix.copy(e[i]);for(var r in n)""===n[r]&&delete n[r];n.id=n.$id,delete n.$id,t.push(n)}this.app.callEvent("onEditorApply",[this.SavedId,t])},n}(n.b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return a});var n=i(0),r=i(3);var a=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=n.prototype;return a.config=function(){var e=this;return{rows:[{view:"toolbar",padding:{left:10},css:"editor_toolbar",cols:[{view:"label",localId:"head"},{view:"icon",icon:"wxi-close",click:function(){return e.app.callEvent("onEditorHide")}}]},{view:"scrollview",scroll:"auto",body:{rows:[{view:"form",autoheight:!0,borderless:!0,padding:{top:17,left:0,right:10},elements:[],elementsConfig:{labelWidth:120,labelAlign:"right",tooltip:{template:function(e){return e.descr||""}}},on:{onChange:function(){return e.Save()}}},{}]}}]}},a.init=function(e){this.Form=e.queryView("form")},a.ChangeEditor=function(e){this.Form.define("elements",r.a[e]),this.Form.reconstruct(),this.$$("head").setHTML('Configure "'+this.SavedId+'"'),this.Type=e},a.setValue=function(e){var t=e;e="object"==typeof e?e:{},"$enable"==r.a[this.Type][0].name&&(e.$enable=!!t),this.Form.setValues(e)},a.setConfig=function(e){this.SavedId=e.id,this.Type!==e.type&&this.ChangeEditor(e.type),this.setValue(e.value),this.getRoot().show()},a.Save=function(){var e=this.Form.getValues();for(var t in e)""!==e[t]&&"$blank"!==e[t]||delete e[t];e=Object(r.b)(e,this.Form),this.app.callEvent("onEditorApply",[this.SavedId,e])},n}(n.b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return n});var n=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.config=function(){var e=this;return{rows:[{view:"toolbar",padding:{left:10},css:"editor_toolbar",cols:[{view:"label",localId:"head"},{view:"icon",icon:"wxi-close",click:function(){return e.app.callEvent("onEditorHide")}}]},{padding:16,type:"space",rows:[{view:"button",css:"editor_add",label:"Update data sources",click:function(){window.open("/top/project.data/"+e.Project+"/"+e.Value,"_blank")}},{view:"text",placeholder:"Search data source...",localId:"filter",on:{onTimedKeyPress:function(){return e.FilterDataSourses()},onChange:function(){return e.FilterDataSourses()}}},{view:"list",select:!0,borderless:!0,scroll:!0,css:"editor_list",template:"#name#",on:{onAfterSelect:function(t){return e.Save(t)}}}]}]}},r.init=function(e){var t=this;this.List=e.queryView("list");var i=this.app.getService("data");this.Project=i.getProject(),this.List.sync(i.data,function(){return t.FilterDataSourses()})},r.FilterDataSourses=function(){var e=this.$$("filter").getValue();this.List.filter("#name#",e),this.SilentSelect()},r.ChangeEditor=function(e){this.$$("head").setHTML('Configure "'+this.SavedId+'"'),this.Type=e},r.SilentSelect=function(){this.Value&&(this.List.blockEvent(),this.List.select(this.Value),this.List.unblockEvent(),this.List.showItem(this.Value))},r.setValue=function(e){"string"!=typeof e&&(e=""),this.Value=e.split("->")[1],this.List.exists(this.Value)?this.SilentSelect():this.List.unselectAll()},r.setConfig=function(e){this.SavedId=e.id,this.Type!==e.type&&this.ChangeEditor(e.type),this.setValue(e.value),this.getRoot().show()},r.Save=function(e){this.Value=e,this.app.callEvent("onEditorApply",[this.SavedId,"demo->"+this.Value])},n}(i(0).b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return a});var n=i(0),r=i(3);var a=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=n.prototype;return a.config=function(){var e=this;return{rows:[{view:"toolbar",padding:{left:10},css:"editor_toolbar",cols:[{view:"label",localId:"head"},{view:"icon",icon:"wxi-close",click:function(){return e.app.callEvent("onEditorHide")}}]},{padding:16,margin:20,rows:[{view:"datatable",editable:!0,scroll:"y",css:"editor_table",borderless:!0,minHeight:288,columns:[],onClick:{webix_icon:function(e,t){this.remove(t)}},on:{"data->onStoreUpdated":function(t,i,n){"update"!=n&&"delete"!=n||e.Save()}}},{view:"button",label:"+ Add more",css:"editor_add",click:function(){return e.AddData()}},{}]}]}},a.init=function(e){this.Table=e.queryView("datatable")},a.ChangeEditor=function(e){this.Table.refreshColumns(webix.copy(r.a[e])),this.$$("head").setHTML('Configure "'+this.SavedId+'"'),this.Type=e},a.setValue=function(e){e=e||{};var t=[];for(var i in e)t.push({name:i,value:e[i]});this.Table.clearAll(),this.Table.parse(t)},a.setConfig=function(e){this.SavedId=e.id,this.Type!==e.type&&this.ChangeEditor(e.type),this.setValue(e.value),this.getRoot().show()},a.AddData=function(){var e=this.Table.add({name:"",value:""});this.Table.editCell(e,"name")},a.Save=function(){var e={};this.Table.data.each(function(t){t.name&&t.value&&(e[t.name]=t.value)}),e=Object(r.b)(e,this.Table),this.app.callEvent("onEditorApply",[this.SavedId,e])},n}(n.b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return n});var n=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.config=function(){var e=this;return{rows:[{view:"toolbar",padding:{left:10},css:"editor_toolbar",cols:[{view:"label",label:"Skin configuration"},{view:"icon",icon:"wxi-close",click:function(){return e.app.callEvent("onEditorHide")}}]},{padding:16,type:"space",rows:[{view:"list",localId:"skins",select:!0,borderless:!0,css:"editor_list",data:[{id:"material",value:"Material"},{id:"mini",value:"Mini"},{id:"flat",value:"Flat"},{id:"compact",value:"Compact"},{id:"contrast",value:"Contrast"}],on:{onAfterSelect:function(t){e.app.getService("TreeRules").setSkin(t),e.app.callEvent("onUIChange")}}}]}]}},r.setConfig=function(e){var t=this.$$("skins");this.app.getService("views").getOne(e.id).then(function(e){t.blockEvent(),t.select(e.skin),t.unblockEvent()})},n}(i(0).b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return r});var n=i(22);i(54);var r=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.config=function(){var e=this;return{view:"property",css:"property_editor",tooltip:{template:function(e){return e.descr||""}},nameWidth:140,scroll:!0,elements:[],on:{onBeforeEditStart:function(t){return e.callCustomEditor(t)},onAfterEditStop:function(){return e.ApplyChanges()},onCheck:function(){return e.ApplyChanges()},onAfterScroll:function(){this.editStop()}},onClick:{webix_icon:function(){return window.open("/top/project.styles/"+e.DataApi.getProject(),"_blank"),!1}}}},r.init=function(t){e.prototype.init.call(this,t),this.initCheckbox()},r.UndoChange=function(e){e&&(this.Editor.editCancel(),this.Editor.clear(),this.urlChange())},r.callCustomEditor=function(e){var t=this.Editor.getItem(e);if(t&&!webix.editors[t.type]&&"label"!==t.type&&"wd_checkbox"!==t.type)return this.app.callEvent("onEditorShow",[t]),!1},r.setElements=function(e){this.Editor.editCancel(),this.Editor.define("elements",e),this.Editor.refresh(),this.Editor.scrollTo(0,0)},r.updateItem=function(e,t){this.Editor.getItem(e).value=t,this.Editor.updateItem(e),this.ApplyChanges()},r.getItemConfig=function(e){return this.Editor.getItem(e)},r.getDirtyValues=function(){var e=this.Editor.getValues(),t={};for(var i in e)this._origin_data[i]!=e[i]&&(t[i]=e[i]);return 0===Object.keys(t).length?null:t},r.resetDirty=function(){this._origin_data=this.Editor.getValues()},r.initCheckbox=function(){this.Editor.registerType("wd_checkbox",{editor:!1,template:function(e){return"\n\t\t\t\t\t<a role='presentation' class='webix_checkbox_"+(e?1:0)+"' onclick='javascript:void(0)'>\n\t\t\t\t\t\t<button role='checkbox' aria-checked='"+!!e+"' type='button' class='webix_custom_checkbox'></button>\n\t\t\t\t\t</a>\n\t\t\t\t"},click:{webix_custom_checkbox:function(e){var t=this.locate(e),i=this.getItem(t);return this.callEvent("onCheck",[t,i.value=!i.value]),this.render(),!1}}})},n}(n.default)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return n});var n=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.config=function(){return{view:"iframe",src:"/iframe/index.html"}},r.init=function(e){var t=this;this.Tree=this.app.getService("TreeRules"),this.DataApi=this.app.getService("data"),this.on(this.app,"onPreviewRepaint",function(){return t.repaintPreview()}),this.on(this.app,"onDataUpdate",function(e){return t.updateData(e)}),this.on(this.app,"onStylesUpdate",function(e){return t.updateStyles(e)}),this.on(webix,"onDragMode",function(e){return t.addOverlay(e)}),webix.delay(function(){var i=e.$view,n=webix.html.offset(i);t._mouseMoveEv=webix.event(i,"mousemove",function(e){if(t._overlay){var i=webix.html.posRelative(e);t.postMessage({webixtype:"mouse-move",pos:{x:i.x,y:i.y-n.y}})}}),t._mouseLeaveEv=webix.event(i,"mouseleave",function(){t.postMessage({webixtype:"mouse-move",pos:null})}),t._mouseUpEv=webix.event(i,"mouseup",function(e){t.postMessage({webixtype:"mouse-up",pos:webix.html.posRelative(e),context:webix.DragControl.getContext().start})})}),this.waitFrame=webix.promise.defer(),this._postMessageEv=webix.event(window,"message",function(e){return t.getMessage(e)}),this._loadFrameEv=webix.event(e.getWindow(),"load",function(){t.updateData(),t.updateStyles(),t.waitFrame.resolve()}),this.app.setService("frame",{getFrame:function(){return e&&!e.$destructed?e.getWindow():null}})},r.urlChange=function(){var e=this,t=this.getParam("id",!0),i=this.Tree.getEditor();webix.promise.all([i.waitData,this.waitFrame]).then(function(){t&&i.exists(t)&&e.postMessage({webixtype:"select-view",id:t})})},r.destroy=function(){webix.eventRemove(this._loadFrameEv),webix.eventRemove(this._postMessageEv),webix.eventRemove(this._mouseMoveEv),webix.eventRemove(this._mouseUpEv),webix.eventRemove(this._mouseLeaveEv),webix.eventRemove(this._clickEv)},r.repaintPreview=function(){var e=this.Tree.getEditor().getUI()||{},t=this.Tree.getSkin();this.postMessage({webixtype:"init-config",config:e,skin:t})},r.updateStyles=function(e){var t=this;this.waitFrame.then(function(){e=e||t.DataApi.getStyles(),t.postMessage({webixtype:"update-styles",styles:e}),t.repaintPreview()})},r.updateData=function(e){e=e||this.DataApi.getDataSources(),this.postMessage({webixtype:"update-data",data:e}),this.repaintPreview()},r.addOverlay=function(e){var t=this.getRoot();"start"==e?(this._overlay=webix.html.create("DIV",{class:"webix_designer_overlay"}),t.$view.appendChild(this._overlay)):this._overlay&&(t.$view.removeChild(this._overlay),this._overlay=null,this.postMessage({webixtype:"drop-view"}))},r.postMessage=function(e){this.getRoot().getWindow().postMessage(e,"*")},r.getMessage=function(e){var t=e.data;if(t&&t.webixtype){var i=this.Tree,n=t.id;switch(t.webixtype){case"select-view":break;case"divide-view":n=i.onDivide(t.id,t.mode,t.name,t.value,t.fValue),this.app.callEvent("onUIChange");break;case"resize-view":i.onResize(t.id,t.name,t.value,t.sibling,t.fValue,t.fsValue),n=t.source,this.app.callEvent("onUIChange");break;case"drop-view":n=i.onDrop(t.start,t.target,t.inner,t.sizes,t.pos),this.app.callEvent("onUIChange");break;case"delete-view":this.app.callEvent("onCellDeleted");break;case"select-parent":this.app.callEvent("onParentCellSelected");break;case"design-hotkey":var r="undo"===t.hotkey||"redo"===t.hotkey?"onUndoApply":"onDesignHotkey";this.app.callEvent(r,[t.hotkey]);break;case"show-message":webix.message(t.message)}n&&this.app.callEvent("onUISelected",[n])}},n}(i(0).b)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return n});var n=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.config=function(){var e=this;return{margin:0,cols:[{view:"template",width:30,css:"separator",borderless:!0},{view:"icon",icon:"mdi mdi-undo",tooltip:"Undo",localId:"undo",click:function(){return e.Undo.undo()},css:"webix_designer_undo"},{view:"icon",icon:"mdi mdi-redo",tooltip:"Redo",localId:"redo",click:function(){return e.Undo.redo()},css:"webix_designer_undo"},{},{view:"segmented",localId:"modes",width:172,options:[{id:"sandbox",value:"Design"},{id:"code",value:"Code"}],on:{onAfterTabClick:function(t){e.app.callEvent("onModeChanged",[t])}}},{}]}},r.init=function(){var e=this;this.Undo=this.app.getService("undo"),this.Rules=this.app.getService("TreeRules"),this.setUndoState(),this.on(this.app,"onUndoChange",function(){return e.setUndoState()}),this.on(this.app,"onModeSet",function(t){return e.$$("modes").setValue(t)})},r.setUndoState=function(){var e={undo:this.Undo.hasUndo(),redo:this.Undo.hasRedo()};for(var t in e){var i=this.$$(t);e[t]?i.enable():i.disable()}},n}(i(0).b)},function(e,t){},function(e,t,i){},function(e,t,i){var n={"./login":5,"./login/":5,"./login/index":5,"./login/index.js":5,"./login/register":26,"./login/register.js":26,"./login/reset":27,"./login/reset.js":27,"./login/restore":28,"./login/restore.js":28,"./project":10,"./project/":10,"./project/all":30,"./project/all.js":30,"./project/data":31,"./project/data.js":31,"./project/index":10,"./project/index.js":10,"./project/styles":33,"./project/styles.js":33,"./project/subbar":7,"./project/subbar.js":7,"./project/windows/add_view":24,"./project/windows/add_view.js":24,"./project/windows/datamenu":12,"./project/windows/datamenu.js":12,"./project/windows/share":13,"./project/windows/share.js":13,"./project/windows/sharemenu":14,"./project/windows/sharemenu.js":14,"./settings":34,"./settings.js":34,"./toolbar":6,"./toolbar/":6,"./toolbar/designmenu":16,"./toolbar/designmenu.js":16,"./toolbar/help":15,"./toolbar/help.js":15,"./toolbar/index":6,"./toolbar/index.js":6,"./toolbar/projectmenu":17,"./toolbar/projectmenu.js":17,"./toolbar/settingsmenu":18,"./toolbar/settingsmenu.js":18,"./toolbar/teamwork":35,"./toolbar/teamwork.js":35,"./top":36,"./top.js":36,"./workspace":11,"./workspace/":11,"./workspace/code":37,"./workspace/code.js":37,"./workspace/contextmenu":21,"./workspace/contextmenu.js":21,"./workspace/editor":20,"./workspace/editor.js":20,"./workspace/editors/column":38,"./workspace/editors/column.js":38,"./workspace/editors/complex":39,"./workspace/editors/complex.js":39,"./workspace/editors/data":40,"./workspace/editors/data.js":40,"./workspace/editors/rules":41,"./workspace/editors/rules.js":41,"./workspace/editors/skin":42,"./workspace/editors/skin.js":42,"./workspace/form":22,"./workspace/form.js":22,"./workspace/index":11,"./workspace/index.js":11,"./workspace/panel":19,"./workspace/panel.js":19,"./workspace/property":43,"./workspace/property.js":43,"./workspace/sandbox":44,"./workspace/sandbox.js":44,"./workspace/widgets":23,"./workspace/widgets.js":23,"./workspace/worktools":45,"./workspace/worktools.js":45};function r(e){var t=a(e);return i(t)}function a(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id=48},function(e,t){e.exports='<svg width="200" height="65" viewBox="0 0 200 65" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M2.91565 42.8344V1.35645L21.9528 22.17L41.0722 1.35645L59.9367 22.0622L78.9439 1.35645V42.9299L60.1504 64.0014L41.0722 43.2147L21.9939 64.0014L2.91565 42.8344Z" fill="#5B2E6E"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M12.4554 32.6789C14.4316 30.5154 20.7914 23.554 21.9939 22.2374C19.5775 19.5933 6.85826 5.67212 2.91565 1.35645C3.15615 2.14663 11.4882 29.5037 12.4554 32.6789Z" fill="url(#paint0_linear)"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M2.91563 1.3564L9.9013 8.93046L17.466 33.0802L10.1136 35.3281L2.91563 1.3564Z" fill="url(#paint1_linear)"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M12.381 35.574L9.60743 26.3923L20.0364 20.1129L24.174 24.6151L12.381 35.574Z" fill="url(#paint2_linear)"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M59.8657 22.1422L78.944 42.9299V1.35645L59.8657 22.1422Z" fill="url(#paint3_linear)"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M59.871 22.1517L63.842 17.8297L78.9439 34.6722L78.9439 42.93L59.871 22.1517Z" fill="url(#paint4_linear)"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M60.1505 64.0013L78.944 42.9298L53.0317 14.4548L60.1505 64.0013Z" fill="url(#paint5_linear)"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M41.072 43.2146L60.1503 64.0013L53.0315 14.4548L41.072 43.2146Z" fill="url(#paint6_linear)"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M21.9939 64.0014L41.0721 43.2147V1.35645L21.9939 64.0014Z" fill="url(#paint7_linear)"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M21.9939 64.0014L29.4544 55.8728L41.0721 13.5847V1.35645L21.9939 64.0014Z" fill="url(#paint8_linear)"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M41.072 43.2147L53.0315 14.4549L41.072 1.35645V43.2147Z" fill="url(#paint9_linear)"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M12.3124 32.6385C12.9655 34.7781 21.9952 64.0014 21.9952 64.0014L41.0721 1.35645L12.3124 32.6385Z" fill="url(#paint10_linear)"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M11.5403 33.4602L18.2921 26.1339L27.8453 57.6322L21.9939 64.001L11.5403 33.4602Z" fill="url(#paint11_linear)"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M2.91565 43.0665L21.9939 64.0014L2.91643 1.35645L2.91565 43.0665Z" fill="url(#paint12_linear)"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M199.678 40.367L193.983 33.533L199.678 26.699C199.789 26.3371 199.93 25.9781 199.963 25.56C199.93 24.6248 199.141 23.8515 198.254 23.8515C197.649 23.8515 197.17 24.1001 196.83 24.421L191.99 30.6855L186.864 24.421C186.524 24.1001 186.046 23.8515 185.44 23.8515C184.553 23.8515 183.764 24.6248 183.732 25.56C183.764 25.9781 183.905 26.3095 184.017 26.699L189.712 33.533L184.017 40.367C183.962 40.5877 183.849 40.781 183.732 40.9365C183.539 41.941 184.102 42.9076 185.156 43.2145C185.764 43.3495 186.468 43.0457 186.864 42.3603L191.99 36.3805L196.83 42.3603C197.226 43.0457 197.959 43.3495 198.539 43.2145C199.592 42.9076 200.155 41.9686 199.963 40.9365C199.845 40.781 199.733 40.5601 199.678 40.367ZM180.884 25.56C180.884 24.626 180.113 23.8515 179.176 23.8515C178.239 23.8515 177.495 24.5984 177.467 25.56C177.467 25.5389 177.467 25.5665 177.467 25.56C177.467 25.5665 177.467 25.5942 177.467 25.56V41.506C177.467 41.4442 177.467 41.4718 177.467 41.506C177.467 42.44 178.239 43.2145 179.176 43.2145C180.113 43.2145 180.884 42.44 180.884 41.506C180.884 41.4442 180.884 41.4165 180.884 41.506V25.56C180.884 25.6218 180.857 25.6218 180.884 25.56ZM152.979 33.533C152.979 28.1667 148.639 23.8515 143.297 23.8515C137.956 23.8515 133.616 28.1944 133.616 33.533C133.616 38.678 137.65 42.8549 142.728 43.2145C142.852 43.1592 142.963 43.2145 143.013 43.2145C144.021 43.2145 144.8 42.44 144.721 41.506C144.8 40.559 144.076 39.8122 143.297 39.7975C143.158 39.7568 143.13 39.7568 143.013 39.7975C143.103 39.7568 143.103 39.7568 143.013 39.7975C143.075 39.7568 143.075 39.7568 143.013 39.7975C140.376 39.6462 138.151 37.8759 137.318 35.5263H150.986C151.17 35.4417 151.198 35.4693 151.27 35.5263C152.172 35.4693 152.951 34.6948 152.979 33.8178C152.979 33.6713 152.951 33.5883 152.979 33.533ZM137.318 32.1092C138.023 29.335 140.477 27.2685 143.582 27.2685C146.402 27.2685 148.885 29.335 149.562 32.1092H137.318ZM131.907 24.9905C131.6 24.2154 130.649 23.6624 129.629 23.8515C129.14 24.0771 128.749 24.5195 128.49 24.9905L125.073 37.8043L119.378 30.6855C119.132 30.3262 118.713 30.1326 118.239 30.116C117.763 30.1326 117.343 30.3262 117.1 30.6855L111.405 37.8043L107.988 24.9905C107.755 24.5195 107.336 24.0771 106.849 23.8515C105.826 23.6624 104.876 24.2154 104.571 24.9905C104.54 25.4043 104.568 25.6532 104.571 25.8448L108.843 42.0755C109.097 42.4925 109.516 42.9902 110.266 43.2145C110.858 43.3496 111.557 43.0455 111.975 42.3603L118.239 34.672L124.504 42.3603C124.975 43.0455 125.702 43.3496 126.497 43.2145C127.015 42.9902 127.435 42.5201 127.636 42.0755L131.907 25.8448C131.907 25.6809 131.935 25.4043 131.907 24.9905ZM164.938 23.8515C162.518 23.7818 160.376 24.6966 158.674 26.1295V15.5938C158.679 15.6317 158.707 15.604 158.674 15.5938C158.707 14.6615 157.928 13.8853 156.965 13.8853C156.036 13.8853 155.285 14.6337 155.257 15.5938C155.257 15.604 155.257 15.6317 155.257 15.5938C155.257 15.6317 155.257 15.6594 155.257 15.5938V33.2483C155.285 33.3734 155.257 33.4288 155.257 33.533C155.257 38.8622 159.597 43.2145 164.938 43.2145C170.28 43.2145 174.62 38.8622 174.62 33.533C174.592 28.1063 170.252 23.7818 164.938 23.8515ZM164.938 39.7975C161.486 39.7975 158.674 36.9979 158.674 33.533C158.674 30.0681 161.486 27.2685 164.938 27.2685C168.391 27.2685 171.203 30.0681 171.203 33.533C171.203 36.9979 168.391 39.7975 164.938 39.7975ZM179.176 17.0175C178.239 17.0175 177.467 17.7829 177.467 18.726C177.467 19.6691 178.239 20.4345 179.176 20.4345C180.113 20.4345 180.884 19.6691 180.884 18.726C180.884 17.7829 180.113 17.0175 179.176 17.0175Z" fill="white"/>\n<defs>\n<linearGradient id="paint0_linear" x1="-1.54007" y1="13.3197" x2="16.4639" y2="26.9743" gradientUnits="userSpaceOnUse">\n<stop stop-color="#67337A"/>\n<stop offset="1" stop-color="#723986"/>\n</linearGradient>\n<linearGradient id="paint1_linear" x1="8.91569" y1="7.21804" x2="4.33202" y2="8.61941" gradientUnits="userSpaceOnUse">\n<stop stop-color="#623274" stop-opacity="0.01"/>\n<stop offset="1" stop-color="#542C65"/>\n</linearGradient>\n<linearGradient id="paint2_linear" x1="10.3519" y1="26.7613" x2="13.6103" y2="31.4146" gradientUnits="userSpaceOnUse">\n<stop stop-color="#623274" stop-opacity="0.01"/>\n<stop offset="1" stop-color="#542C65"/>\n</linearGradient>\n<linearGradient id="paint3_linear" x1="70.2706" y1="-3.68473" x2="51.3287" y2="14.5277" gradientUnits="userSpaceOnUse">\n<stop stop-color="#8A519F"/>\n<stop offset="1" stop-color="#8A53A0"/>\n</linearGradient>\n<linearGradient id="paint4_linear" x1="65.2787" y1="23.0579" x2="61.9429" y2="26.5123" gradientUnits="userSpaceOnUse">\n<stop stop-color="#8A529F" stop-opacity="0.1"/>\n<stop offset="1" stop-color="#542C65"/>\n</linearGradient>\n<linearGradient id="paint5_linear" x1="54.8242" y1="43.7368" x2="73.0414" y2="49.8529" gradientUnits="userSpaceOnUse">\n<stop stop-color="#5C2E6D"/>\n<stop offset="1" stop-color="#6D377B"/>\n</linearGradient>\n<linearGradient id="paint6_linear" x1="41.5965" y1="48.6962" x2="55.6726" y2="50.1973" gradientUnits="userSpaceOnUse">\n<stop stop-color="#612E74"/>\n<stop offset="1" stop-color="#7F4395"/>\n</linearGradient>\n<linearGradient id="paint7_linear" x1="34.4558" y1="1.35645" x2="34.4558" y2="44.807" gradientUnits="userSpaceOnUse">\n<stop stop-color="#582C6A"/>\n<stop offset="1" stop-color="#743983"/>\n</linearGradient>\n<linearGradient id="paint8_linear" x1="31.827" y1="38.6931" x2="25.9778" y2="38.5124" gradientUnits="userSpaceOnUse">\n<stop stop-color="#623274" stop-opacity="0.01"/>\n<stop offset="1" stop-color="#542C65"/>\n</linearGradient>\n<linearGradient id="paint9_linear" x1="35.0923" y1="1.35645" x2="35.0923" y2="43.2147" gradientUnits="userSpaceOnUse">\n<stop stop-color="#723A85"/>\n<stop offset="1" stop-color="#8C519C"/>\n</linearGradient>\n<linearGradient id="paint10_linear" x1="10.7606" y1="43.3736" x2="29.0969" y2="44.832" gradientUnits="userSpaceOnUse">\n<stop stop-color="#66397A"/>\n<stop offset="1" stop-color="#9F69AB"/>\n</linearGradient>\n<linearGradient id="paint11_linear" x1="17.3227" y1="31.198" x2="11.4021" y2="33.0081" gradientUnits="userSpaceOnUse">\n<stop stop-color="#623274" stop-opacity="0.01"/>\n<stop offset="1" stop-color="#542C65"/>\n</linearGradient>\n<linearGradient id="paint12_linear" x1="7.00286" y1="14.5363" x2="7.00286" y2="50.3399" gradientUnits="userSpaceOnUse">\n<stop stop-color="#5D306E"/>\n<stop offset="1" stop-color="#9F6AAA"/>\n</linearGradient>\n</defs>\n</svg>\n'},function(e,t){e.exports='<svg width="150" height="97" viewBox="0 0 150 97" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="89.7725" cy="48.5" r="48.5" fill="#31C4AF"/>\n<path d="M75.9083 67.9739L73.7461 44.1897L149.423 15L75.9083 67.9739Z" fill="#D2D2D2"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M149.731 14.8333C149.815 14.9881 149.77 15.181 149.628 15.2839L76.1128 68.2578C76.0109 68.3313 75.8773 68.3444 75.763 68.2923C75.6486 68.2401 75.571 68.1307 75.5596 68.0055L73.3974 44.2213C73.3833 44.0656 73.4742 43.9194 73.6201 43.8631L149.297 14.6734C149.461 14.6101 149.647 14.6785 149.731 14.8333ZM74.1185 44.4211L76.2012 67.3313L147.014 16.3041L74.1185 44.4211Z" fill="#249E8D"/>\n<path d="M80.2326 49.5952L75.9082 67.9739L149.423 15L80.2326 49.5952Z" fill="#E8E8E8"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M149.722 14.8188C149.817 14.9749 149.775 15.1773 149.628 15.2839L76.1127 68.2578C75.9943 68.3432 75.8352 68.346 75.7138 68.2649C75.5923 68.1838 75.534 68.0358 75.5674 67.8937L79.8918 49.515C79.9156 49.4139 79.9831 49.3285 80.076 49.2821L149.266 14.6869C149.43 14.6053 149.628 14.6627 149.722 14.8188ZM80.5357 49.8349L76.4633 67.1424L145.693 17.2561L80.5357 49.8349Z" fill="#249E8D"/>\n<path d="M149.423 15L56.4487 28.1354L73.7463 44.1897L149.423 15Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M149.762 14.9119C149.807 15.0841 149.715 15.2625 149.549 15.3265L73.8722 44.5162C73.7474 44.5643 73.6062 44.5371 73.5081 44.4462L56.2105 28.3918C56.1116 28.3 56.0743 28.1594 56.1147 28.0306C56.1551 27.9017 56.266 27.8076 56.3997 27.7887L149.374 14.6534C149.55 14.6285 149.717 14.7397 149.762 14.9119ZM57.2257 28.379L73.8242 43.7844L146.442 15.7745L57.2257 28.379Z" fill="#249E8D"/>\n<path d="M103.001 69.055L80.2329 49.5952L149.423 15L103.001 69.055Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M149.699 14.7847C149.802 14.9161 149.797 15.1015 149.689 15.228L103.266 69.2829C103.14 69.4293 102.92 69.4464 102.773 69.321L80.0054 49.8612C79.9162 49.7849 79.8712 49.6691 79.8854 49.5526C79.8997 49.4361 79.9713 49.3345 80.0763 49.2821L149.267 14.6869C149.416 14.6123 149.597 14.6533 149.699 14.7847ZM80.8615 49.6721L102.963 68.562L148.026 16.09L80.8615 49.6721Z" fill="#249E8D"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M67.7757 45.7957C67.9261 46.1816 67.7352 46.6164 67.3493 46.7669L58.5451 50.199C58.1591 50.3494 57.7243 50.1585 57.5739 49.7726C57.4234 49.3867 57.6143 48.9519 58.0003 48.8014L66.8045 45.3693C67.1904 45.2188 67.6252 45.4097 67.7757 45.7957Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M69.3832 53.421C69.5575 53.7968 69.3941 54.2427 69.0183 54.4169L56.5881 60.1806C56.2124 60.3548 55.7665 60.1915 55.5922 59.8157C55.418 59.4399 55.5814 58.994 55.9571 58.8198L68.3873 53.0561C68.7631 52.8819 69.209 53.0452 69.3832 53.421Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M84.2746 69.5828C84.5051 69.927 84.4128 70.3928 84.0687 70.6233L73.6898 77.5723C73.3456 77.8027 72.8798 77.7105 72.6493 77.3663C72.4189 77.0221 72.5111 76.5563 72.8553 76.3258L83.2341 69.3769C83.5783 69.1464 84.0442 69.2386 84.2746 69.5828Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M95.8559 69.5288C96.1162 69.851 96.066 70.3232 95.7437 70.5835L82.7437 81.0835C82.4215 81.3437 81.9493 81.2935 81.689 80.9713C81.4288 80.649 81.479 80.1768 81.8012 79.9166L94.8012 69.4166C95.1235 69.1563 95.5957 69.2065 95.8559 69.5288Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M28.6979 52.6992C29.7729 52.8185 30.8502 53.0755 31.9098 53.4851L31.3689 54.8842C30.4322 54.5221 29.4813 54.2953 28.5325 54.1901L28.6979 52.6992ZM22.2136 53.6C23.233 53.1976 24.3009 52.9094 25.3955 52.7538L25.6066 54.2389C24.6329 54.3773 23.6788 54.6343 22.7643 54.9952L22.2136 53.6ZM34.8171 55.0455C35.6699 55.6441 36.4938 56.3598 37.2775 57.1997L36.1808 58.223C35.4651 57.456 34.7195 56.8096 33.9554 56.2733L34.8171 55.0455ZM16.8163 57.2705C17.5645 56.4725 18.4038 55.7558 19.3121 55.1378L20.1559 56.3779C19.3379 56.9345 18.5827 57.5796 17.9107 58.2964L16.8163 57.2705ZM39.2724 59.7503C39.5644 60.1932 39.8478 60.6586 40.1218 61.1469L40.1316 61.1643L40.1404 61.1822C40.3807 61.6694 40.6083 62.152 40.8236 62.6302L39.4557 63.2459C39.2505 62.79 39.0334 62.3293 38.804 61.8637C38.5499 61.4119 38.2883 60.9829 38.02 60.5758L39.2724 59.7503ZM76.0069 67.89C75.6679 68.2006 75.2834 68.5313 74.8575 68.8783L73.9099 67.7155C74.3174 67.3835 74.6796 67.0717 74.9937 66.7839L76.0069 67.89ZM13.5825 62.9653C13.8744 61.8933 14.3068 60.8701 14.855 59.914L16.1563 60.6601C15.6684 61.511 15.2865 62.4164 15.0298 63.3594L13.5825 62.9653ZM72.4384 70.7072C71.6757 71.2481 70.8428 71.8114 69.9485 72.3873L69.1364 71.1262C70.013 70.5616 70.8273 70.0109 71.5706 69.4837L72.4384 70.7072ZM42.0072 65.5545C42.376 66.5838 42.6849 67.5905 42.9364 68.5744L41.4831 68.9458C41.2438 68.0096 40.9489 67.0478 40.5951 66.0605L42.0072 65.5545ZM67.3928 73.9655C66.5596 74.4593 65.6888 74.9561 64.7857 75.4505L64.0655 74.1347C64.9535 73.6486 65.8094 73.1602 66.6281 72.675L67.3928 73.9655ZM13.6322 69.535C13.3157 68.4299 13.162 67.331 13.1533 66.2548L14.6532 66.2426C14.6608 67.1833 14.7951 68.1473 15.0743 69.1219L13.6322 69.535ZM43.5552 71.695C43.7076 72.792 43.7845 73.8569 43.7898 74.8893L42.2898 74.8971C42.2849 73.9339 42.2131 72.9354 42.0694 71.9015L43.5552 71.695ZM62.1347 76.8445C61.256 77.288 60.3542 77.725 59.4333 78.1512L58.8034 76.7898C59.7084 76.3711 60.5948 75.9415 61.4588 75.5054L62.1347 76.8445ZM56.6879 79.3628C55.7711 79.7478 54.8399 80.1189 53.8981 80.4724L53.3711 79.068C54.2941 78.7217 55.2073 78.3577 56.1072 77.9798L56.6879 79.3628ZM16.8084 75.2189C16.0595 74.3504 15.4343 73.4661 14.9248 72.5736L16.2275 71.83C16.6864 72.6338 17.2548 73.4396 17.9444 74.2394L16.8084 75.2189ZM43.567 78.0835C43.4048 79.1753 43.1561 80.2227 42.8275 81.2249L41.4022 80.7575C41.7041 79.8368 41.9334 78.872 42.0833 77.8631L43.567 78.0835ZM51.0627 81.4694C50.1085 81.7819 49.1469 82.0732 48.1815 82.3394L47.7828 80.8933C48.724 80.6338 49.6628 80.3495 50.5957 80.0439L51.0627 81.4694ZM21.6628 79.4254C20.7306 78.8006 19.8832 78.1588 19.1166 77.5033L20.0914 76.3633C20.8107 76.9783 21.6111 77.585 22.4979 78.1794L21.6628 79.4254ZM45.2569 83.063C44.2663 83.2792 43.2748 83.4653 42.2863 83.6169L42.0589 82.1342C43.0143 81.9877 43.9749 81.8075 44.9371 81.5975L45.2569 83.063ZM25.8346 81.8162C25.337 81.5712 24.856 81.3223 24.3912 81.0698L25.1074 79.7517C25.554 79.9944 26.0172 80.2341 26.4973 80.4705C26.9242 80.6808 27.3594 80.8739 27.8022 81.0505L27.2465 82.4438C26.7683 82.2531 26.2974 82.0441 25.8346 81.8162ZM39.279 83.9686C38.2593 84.049 37.2464 84.0874 36.2446 84.0788L36.2574 82.5788C37.2124 82.587 38.1816 82.5504 39.1612 82.4732L39.279 83.9686ZM41.5575 84.1899C41.0461 85.1426 40.455 86.0423 39.7931 86.8883L38.6117 85.9639C39.2225 85.1833 39.7662 84.3553 40.2359 83.4804L41.5575 84.1899ZM33.1978 83.8984C32.1734 83.7824 31.1657 83.6088 30.1802 83.3716L30.5312 81.9132C31.4525 82.135 32.399 82.2984 33.3665 82.4079L33.1978 83.8984ZM37.6162 89.2526C36.8408 89.9736 36.0064 90.6426 35.1211 91.2596L34.2634 90.029C35.0942 89.45 35.8735 88.8248 36.5947 88.1541L37.6162 89.2526ZM32.3911 92.9171C31.4657 93.4051 30.5011 93.8466 29.5038 94.2414L28.9516 92.8468C29.901 92.4709 30.8162 92.0518 31.6914 91.5902L32.3911 92.9171ZM26.4973 95.2641C25.4953 95.5527 24.469 95.7993 23.4237 96.0037L23.1358 94.5316C24.1396 94.3353 25.1235 94.0988 26.0822 93.8227L26.4973 95.2641ZM20.297 96.4835C19.2598 96.6004 18.2095 96.6781 17.1509 96.7163L17.0968 95.2173C18.1179 95.1805 19.1302 95.1055 20.129 94.9929L20.297 96.4835ZM1.62658 94.4307C1.12868 94.2597 0.634077 94.0791 0.143306 93.8888L0.685526 92.4902C1.15789 92.6734 1.63415 92.8473 2.11379 93.012L1.62658 94.4307ZM13.9953 96.7138C12.9489 96.6746 11.8988 96.5975 10.8495 96.4821L11.0135 94.9911C12.0269 95.1025 13.041 95.177 14.0513 95.2148L13.9953 96.7138ZM7.72922 96.0247C6.69622 95.8349 5.66799 95.6073 4.64883 95.3415L5.02733 93.89C6.0105 94.1464 7.00288 94.3661 8.00026 94.5493L7.72922 96.0247Z" fill="#249E8D"/>\n</svg>\n'},function(e,t){webix.protoUI({name:"wd_editor",$init:function(e){var t=this,i=function(e){return e.descr||""};e.cols=[{view:"label",label:e.label,width:e.labelWidth||80,css:"custom_inp_label",descr:e.descr,tooltip:i},{view:"button",label:"Configure",css:"custom_editor",inputWidth:70,descr:e.descr,tooltip:i,click:function(){return t._fireEvent()}}]},_fireEvent:function(){var e={id:this.config.name,type:this.config.type,value:this.getValue()};this.callEvent("onEditorShow",[e])},setValue:function(e){this.data=e},getValue:function(){return this.data}},webix.ui.layout)},function(e,t){webix.protoUI({name:"wd_date",$allowsClear:!0,$init:function(e){var t=this,i=function(e){return e.descr||""},n={onChange:function(){t.callEvent("onChange",[t.getValue()])}};e.cols=[{view:"label",label:e.label,css:"custom_inp_label",width:e.labelWidth||80,descr:e.descr,tooltip:i},{rows:[{view:"text",placeholder:"mm/dd/yyyy hh:mm",on:n,tooltip:i,format:e.format},{view:"text",placeholder:"mm/dd/yyyy hh:mm",on:n,tooltip:i,format:e.format,hidden:!e.multi}]}],this.$ready.push(function(){this._fields=this.queryView({view:"text"},"all")})},setValue:function(e){var t=this;(e="object"==typeof e?[e.start,e.end]:[e,""]).forEach(function(e,i){t._fields[i].isVisible()&&t._fields[i].setValue(e)})},getValue:function(){var e=[];return this._fields.forEach(function(t){if(t.isVisible()){var i=t.getValue();i&&e.push(i)}}),e[0]?this.config.multi?e.join(" - "):e[0]:""}},webix.ui.layout)},function(e,t){webix.protoUI({name:"wd_style",$init:function(e){var t=this;e.cols=[{view:"text",label:"Css",descr:e.descr,tooltip:function(e){return e.descr||""},labelWidth:e.labelWidth||80,labelAlign:"right",on:{onChange:function(e,i){return t.callEvent("onChange",[e,i])}}},{width:6},{view:"icon",css:"custom_styles",icon:"mdi mdi-brush",tooltip:"Update stylesheet",click:function(){t.callEvent("onStylesShow",[])}}],this.$ready.push(function(){this._field=this.queryView("text")})},getValue:function(){return this._field.getValue()},setValue:function(e){this._field.setValue(e)}},webix.ui.layout)},function(e,t){webix.editors.dtext=webix.extend({setValue:function(e){this.getInputNode(this.node).value=this.config.format(e)}},webix.editors.text)},function(e,t,i){var n={"./en":46,"./en.js":46};function r(e){var t=a(e);return i(t)}function a(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id=55},,,function(e,t,i){"use strict";i.r(t);i(47);var n=i(0),r=function(){function e(e,t,i){this._reset=i,this._rights=e,this.setUser(t)}var t=e.prototype;return t.setUser=function(e){var t=this;return this.user=e,this._allowed={},this.user&&e.rights.forEach(function(e){return t._allowed[e]=!0}),e},t.getRights=function(){var e=[];for(var t in this._rights)e.push({id:this._rights[t],name:t});return e},t.getUser=function(){return this.user},t.login=function(e,t){var i=this;return webix.ajax().post("/auth/login",{email:e,pass:t}).then(function(e){return(e=e.json())&&e.user&&i.setUser(e.user),i._reset()}).then(function(){return i.getUser()})},t.register=function(e,t,i){var n=this;return webix.ajax().post("/auth/register",{name:e,email:t,pass:i}).then(function(e){return(e=e.json())&&e.user&&n.setUser(e.user),n._reset()}).then(function(){return n.getUser()})},t.logout=function(){return webix.send("/auth/logout",{})},t.hasAccess=function(e){var t=this._rights[e];if(!t)throw"Unknow access right name: "+e;return!!this._allowed[t]},t.guardAccess=function(e){if(!this.hasRight(e))throw"Access denied"},e}();function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var s=function(){function e(e,t,i){var n=e.getService("backend");this.app=e,this.api=n.api.room,this.remote=n,this.User=e.getService("auth").getUser(),this.Shared=t,this.Key=i,this.app.callEvent("onTeamworkUpdate",[[]])}var t=e.prototype;return t.track=function(e){var t=this;this.Ping&&this.leave(),this.Ping=setInterval(function(){return t.ping()},3e4),this.ping(),e.on(this.remote,"room-"+this.Shared+"-"+this.Key,function(e){e.id!==t.User.id&&t.visitors()}),this.visitors()},t.leave=function(){this.Ping&&(clearInterval(this.Ping),this.api.leave(this.Shared,this.Key),delete this.Ping)},t.ping=function(){var e=this;this.Ping&&this.remote.silent(function(){return e.api.join(e.Shared,e.Key)})},t.visitors=function(){var e=this;this.api.visitors(this.Shared,this.Key).then(function(t){var i=t.findIndex(function(t){return t.id===e.User.id});-1!==i&&t.splice(i,1),e.app.callEvent("onTeamworkUpdate",[t])})},e}();function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var c={fieldset:!0,scrollview:!0,form:!0,toolbar:!0},u={form:!0,layout:!0,toolbar:!0};function d(e,t,i){var n=webix.skin[t],r=n.inputHeight,a={barcode:{width:220,height:160},calendar:{width:260,height:250},menu:{height:r},button:{height:r},bullet:{height:86},daterange:{height:250},colorboard:{width:260,height:250},colorpicker:{height:r},colorselect:{width:260,height:250},checkbox:{height:r},combo:{height:r},counter:{height:r},datepicker:{height:r},daterangepicker:{height:r},icon:{height:r,width:r},label:{height:r},multicombo:{height:r},multiselect:{height:r},pager:{height:r},radio:{height:r},richselect:{height:r},rangeslider:{height:r},search:{height:r},segmented:{height:r},sidebar:{width:250},select:{height:r},slider:{height:r},switch:{height:r},tabbar:{height:r},text:{height:r},texthighlight:{height:r},timeboard:{width:260,height:3*r+2*(n.layoutMargin.form+n.layoutPadding.space)},toggle:{height:r},toolbar:{height:n.barHeight},uploader:{height:r}};return a[e]?i?a[e][i]:a[e]:null}var h={property:[{label:"Sizes",type:"label"},{label:"Height",type:"text",id:"height",descr:"sets the height of the component"},{label:"Width",type:"text",id:"width",descr:"sets the width of a widget"}],form:[{template:"Sizes",type:"section"},{label:"Height",view:"text",name:"height",descr:"sets the height of the component"},{label:"Width",view:"text",name:"width",descr:"sets the width of a widget"}]},p=i(2);webix.DataDriver.webixUITree=webix.extend({child:"$child"},webix.DataDriver.json);var f=webix.proto({name:"EditorState",$init:function(){this.data.serialize=function(e,t){for(var i=this.branch[e||0],n=[],r=0;r<i.length;r++){var a=this.pull[i[r]],o={};for(var s in a)if("$"!==s.substr(0,1)){var l=a[s];"object"==typeof l&&l&&!webix.isDate(l)?o[s]=webix.copy(l):webix.isDate(l)?o[s]=webix.Date.dateToStr("%Y-%m-%d")(l):o[s]=a[s]}var c=void 0;this.branch[a.id]&&(c=this.serialize(a.id,t)),a.$mKey?c?o[a.$mKey]=c:delete o[a.$mKey]:a.$sKey&&(c?o[a.$sKey]=c[0]:delete o[a.$sKey]),t&&(a.$id?o.id=a.$id:delete o.id),"layout"!==a.view&&"headerlayout"!==a.view&&"tabitem"!==a.view&&"accordionitem"!==a.view||delete o.view,delete o.open,n.push(o)}return n}},loadConfig:function(e){this.count()&&this.clearAll(),(e=this.rawToTree(e))[0].$child||(e=[{view:"layout",open:!0,$mKey:"cols",$child:e}]),this.parse(e,"webixUITree")},getUI:function(e){return this.serialize(0,e)[0]},rawToTree:function(e){e=webix.isArray(e)?e:[e];for(var t=0;t<e.length;t++){var i=e[t];for(var n in i.view||(i.rows||i.cols?i.view="layout":i.template?i.view="template":i.body?i.view="accordionitem":i.view="spacer"),i)"rows"===n||"cols"===n||"cells"===n||"elements"===n&&"property"!==i.view?(this.rawToTree(i[n]),i.$child=i[n],i.$mKey=n):"body"!==n&&"head"!==n||(this.rawToTree([i[n]]),i.$child=i[n],i.$sKey=n);if(u[i.view]||c[i.view]){if(!i.$child||!i.$child.length){for(var r in i)"id"!==r&&delete i[r];webix.extend(i,Object(p.a)(),!0)}i.open=!0}i.id&&(i.$id=i.id)}return e}},webix.TreeCollection),v=new Date,g=webix.Date.add(v,1,"month",!0),m=webix.i18n.parseFormatStr(v),w=webix.i18n.parseFormatStr(g);var b,y,x=new f({});function _(e,t){return e&&("right"==t||"left"==t)||!e&&("top"==t||"bottom"==t)}function S(e,t){var i=x.getItem(e);d(i.view,y,t)?i[t]=0:delete i[t],x.updateItem(e,i)}function C(e){var t=x.data.getBranch(e),i=x.getItem(e);if(1==t.length&&!c[i.view]){var n=t[0];S(n.id,"width"),S(n.id,"height"),x.getParentId(e)?(L(n.id,e,{}),x.exists(e)&&x.remove(e)):(n.$mKey||n.$sKey)&&(n.$child=x.rawToTree(x.serialize(n.id,!0)),x.clearAll(),x.parse(n,"webixUITree"))}}function k(e,t){var i=x.getParentId(e);if(i||!t){var n=x.getItem(i);if(n.$count){var r="cols"==n.$mKey?"width":"height";t&&r!=t&&!webix.isUndefined(x.getItem(e)[t])?S(e,t):t=r;var a=n[t]||0;if(!a){var o=b.getService("frame");if(o){var s=o.getFrame();if(s&&s.webix){var l=s.webix.$$(n.id);l&&(a=l["$"+t])}}}if(e&&a&&x.getItem(e)[t]>a)S(e,t);else{var c=function e(t,i){var n=0,r="cols"==x.getItem(t).$mKey?"width":"height";return x.data.eachChild(t,function(t){var a=1*(t[i]||d(t.view,y,i)||0);!a&&t.$count&&(a=e(t.id,i)),i==r?n+=a:n=Math.max(n,a)}),n}(n.id,t);x.data.eachSubItem(n.id,function(i){a&&c&&c>a&&i.id!=e&&S(i.id,t),i.$count&&k(x.getFirstChildId(i.id),t)})}}}else S(e,t)}function E(e){var t=x.getParentId(e);if(!t)return S(e,"width"),void S(e,"height");var i=x.getItem(t);if("form"!=i.view||!1!==i.autoheight){for(var n,r="cols"==i.$mKey?"width":"height",a=x.data.getBranch(t),o=!0,s=0;s<a.length;s++){var l=d(a[s].view,y,r);if(!(a[s][r]||l)){o=!1;break}n||l||a[s].id==e||(n=a[s].id)}o&&S(n||e,r)}}function $(e,t,i,n){var r,a=x.getItem(e),o="right"==t||"bottom"==t?-1:0,s=x.getBranchIndex(e)+Math.abs(o),l=x.getParentId(e),c=Object(p.a)();return i&&(c[i]=n),a.$count?_(r="cols"==x.getItem(e).$mKey,t)?j(c,o,e):l?_(r="cols"==x.getItem(l).$mKey,t)?j(c,s,l):M(r,c,e,t):I(r,c,o):_(r="cols"==x.getItem(l).$mKey,t)?j(c,s,l):0==x.getParentId(l)&&1==x.getItem(l).$count?I(r,c,o):M(r,c,e,t)}function D(e,t,i,n,r){if(!function e(t,i){var n=x.getParentId(i);if(!n)return!1;if(n==t)return!0;return e(t,n)}(e,t)){var a,o,s,l,c;if(r&&(t=$(t,r),x.getItem(t).temp=!0),i)a=L(e,t,n,x.getParentId(e)!==x.getParentId(t)||!r);else o=e,s=b.getService("data").getDefaultConfig(),l={default:{},barcode:{type:"ean13",value:"123456789012"},bullet:{},button:{label:"Click me"},calendar:{},chart:{url:"demo->"+s.chart,type:"bar",xAxis:"#value#",yAxis:{}},checkbox:{label:"Checkbox"},colorboard:{},colorpicker:{label:"Color",value:"#860EFE"},colorselect:{value:"#751FE0"},comments:{currentUser:4,users:"demo->"+s.users,url:"demo->"+s.comments},combo:{label:"Combo",value:"1",options:"demo->"+s.options},counter:{label:"Number",value:10},datatable:{url:"demo->"+s.table,columns:[{id:"title",header:"Title",fillspace:!0,sort:"string"},{id:"year",header:"Year",sort:"string"},{id:"votes",header:"Votes",sort:"string"},{id:"rating",header:"Rating",sort:"string"},{id:"rank",header:"Rank",sort:"string"},{id:"category",header:"Category",sort:"string"}]},dataview:{type:{height:100},url:"demo->"+s.table,template:"#rank#. #title#"},daterange:{value:{start:m,end:w}},daterangepicker:{label:"Date range",value:{start:m,end:w}},datepicker:{label:"Date",value:m},dbllist:{url:"demo->"+s.options},fieldset:{$sKey:"body",label:"Field Set",$child:[{view:"form",autoheight:!1,$mKey:"rows",$child:[{view:"text",label:"First Name",name:"fname"},{view:"text",label:"Last Name",name:"lname"},{view:"text",label:"Email",name:"email"}]}]},form:{autoheight:!1,$mKey:"rows",$child:[{view:"text",label:"User name",name:"name"},{view:"text",label:"Email",name:"email"},{view:"button",css:"webix_primary",label:"Save"}]},gage:{value:45,minWidth:0,minHeight:0},geochart:{url:"demo->"+s.countries,key:"AIzaSyAi0oVNVO-e603aUY8SILdD4v9bVBkmiTg"},"google-map":{key:"AIzaSyAi0oVNVO-e603aUY8SILdD4v9bVBkmiTg"},grouplist:{url:"demo->"+s.tree},icon:{icon:"wxi-user"},iframe:{src:"//docs.webix.com"},label:{label:"Label"},list:{url:"demo->"+s.list},menu:{url:"demo->"+s.menu,layout:"x",type:{subsign:!0}},multicombo:{options:"demo->"+s.options,label:"Values",value:"1,2"},multiselect:{options:"demo->"+s.options,label:"Values",value:"1,2"},organogram:{url:"demo->"+s.staff},pager:{master:!1,count:50,group:10,size:5},property:{elements:[{label:"Layout",type:"label"},{label:"Width",type:"text",id:"width",value:250},{label:"Height",type:"text",id:"height",value:250},{label:"Data loading",type:"label"},{label:"Data url",type:"text",id:"url",value:"http://webix.com/data"}]},radio:{label:"Options",value:"One",options:["One","Two","Three"]},rangechart:{url:"demo->"+s.chart,type:"line",value:"#value#",frameId:"value",item:{radius:0},range:{start:40,end:80}},rangeslider:{label:"Range",title:"#value#",value:[20,50]},richselect:{label:"Richselect",options:"demo->"+s.options},richtext:{label:"Rich text",value:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat"},search:{label:"Search"},segmented:{options:["One","Two","Three"]},select:{label:"Select",options:"demo->"+s.options},sidebar:{url:"demo->"+s.sidebar},slider:{label:"Slider",title:"#value#",value:50},switch:{label:"Switch"},tabbar:{options:["One","Two","Three"]},template:{template:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."},text:{label:"Text"},textarea:{label:"Textarea"},texthighlight:{label:"Highlight"},timeboard:{value:"10:38",hours:!0,seconds:!1},timeline:{url:"demo->"+s.timeline},toggle:{offLabel:"Unpressed",onLabel:"Pressed"},toolbar:{css:"webix_dark",$mKey:"cols",$child:[{view:"label",label:"My App"},{view:"button",label:"Click me",autowidth:!0}]},tree:{url:"demo->"+s.tree},treemap:{url:"demo->"+s.treemap,value:"#value#",select:!0,template:"#label#"},treetable:{url:"demo->"+s.tree,scrollX:!1,columns:[{id:"value",header:"Film title",fillspace:!0,template:"{common.treetable()} #value#"},{id:"id",header:"ID",width:55}]},unitlist:{url:"demo->"+s.list,uniteBy:"#country#"}},(c=webix.copy(l[o])).view=o,a=V(e=c,t,n,r);return a}}function L(e,t,i,n){var r=x.getParentId(e),a=x.getItem(e);if(n){var o=Object(p.a)(),s=a.width||d(a.view,y,"width"),l=a.height||d(a.view,y,"height");s&&(o.width=s),l&&(o.height=l),j(o,x.getBranchIndex(e),r)}(a.$mKey||a.$sKey)&&(a.$child=x.rawToTree(x.serialize(a.id,!0))),x.remove(e);var c=V(a,t,i);return C(r),c}function j(e,t,i){var n=x.getItem(i);if(n&&(c[n.view]||u[n.view])){var r=x.add(webix.copy(e),t,i);return e.$child&&x.parse({data:e.$child,parent:r},"webixUITree"),r}}function I(e,t,i){var n,r=e?"rows":"cols",a=e?"cols":"rows",o=x.getUI(),s=o.id;return delete o.id,a!==r&&1==o[a].length&&(o=o[a][0]),(n={id:s})[r]=[o],o=n,0===i?o[r].unshift(t):o[r].push(t),x.loadConfig(o),t.id}function M(e,t,i,n){var r=webix.copy(x.getItem(i)),a={view:"layout",$mKey:e?"rows":"cols"},o=x.getParentId(i),s=x.getBranchIndex(i);for(var l in(r.$mKey||r.$sKey)&&(r.$child=x.rawToTree(x.serialize(r.id,!0))),r)"id"==l&&(a[l]=r[l],delete r[l]),"width"!=l&&"height"!=l||(a[l]=r[l],r[l]=0);return a.$child=[t,r],"bottom"!=n&&"right"!=n||a.$child.reverse(),x.remove(i),j(a,s,o),t.id}function U(e,t,i,n){var r,a=i[n];return a&&(a+20>=e[n]?t[n]=e[n]:r=!0),r}function V(e,t,i,n){var r,a=webix.copy(e),o=x.getItem(t),s=x.getParentId(t),l=x.getBranchIndex(t),c=d(a.view,y)||{},u={width:webix.isUndefined(a.width)?c.width:a.width,height:webix.isUndefined(a.height)?c.height:a.height};if(u.width||u.height){if(o.temp){var h="left"==n||"right"==n?"width":"height";u[h]&&(i[h]=u[h])}r=function(e,t,i,n,r,a){var o,s=U(r,e,a,"height"),l=U(r,e,a,"width"),c=x.getItem(i).$mKey,u={width:r.width-(a.width||0)},d={height:r.height-(a.height||0)};return l&&s?(x.add(Object(p.a)("cols"==c?u:d),t,i),i=j({view:"layout",$mKey:"cols"==c?"rows":"cols",$child:[e,Object(p.a)("cols"==c?d:u)]},t,i),o=x.getFirstChildId(i)):l?("rows"==c&&(i=x.add({view:"layout",$mKey:"cols"},t,i),t=0),o=j(e,t,i),x.add(Object(p.a)(u),t+1,i)):s?("cols"==c&&(i=x.add({view:"layout",$mKey:"rows"},t,i),t=0),o=j(e,t,i),x.add(Object(p.a)(d),t+1,i)):o=j(e,t,i),o}(a,l+1,s,0,i,u)}else o.height&&(a.height=o.height),o.width&&(a.width=o.width),r=j(a,l+1,s);return x.remove(t),E(r),webix.delay(function(){return k(r)}),r}var P=function(){function e(e){b=e}var t=e.prototype;return t.getEditor=function(){return x},t.getConfig=function(e,t){var n=webix.promise.defer();return i.e(2).then(function(){var r=[i(120)("./"+e)];(function(e){n.resolve(e[t])}).apply(null,r)}).catch(function(){n.resolve(h[t])}),n},t.setSkin=function(e){y=e},t.getSkin=function(){return y||"material"},t.remove=function(e){return function e(t){var i,n=x.getParentId(t);if(0===n){var r=x.data.getBranch(t);(r.length>1||"placeholder"!==r[0].role)&&(x.clearAll(),x.loadConfig(Object(p.a)())),i=0}else{var a=x.data.getBranch(n);1==a.length?i=e(n):(i=x.getNextSiblingId(t)||x.getPrevSiblingId(t),x.remove(t),2==a.length?C(n):E(i))}return i}(e)},t.adjustSize=function(e,t){E(e),k(e,t)},t.adjustAll=function(){x.data.eachSubItem(0,function(e){C(e.id)}),x.data.eachSubItem(0,function(e){E(e.id),k(e.id,"height"),k(e.id,"width")})},t.onDivide=function(e,t,i,n){return $(e,t,i,n)},t.onResize=function(e,t,i,n,r,a){!function(e,t,i,n,r,a){var o,s,l=x.getParentId(e),c=x.getItem(l).$count,u=2==c?0:Math.max(a+i,0);x.updateItem(n,((o={})[t]=u,o)),x.updateItem(e,((s={})[t]=r-i,s)),c>2&&E(e),k(e,t)}(e,t,i,n,r,a)},t.onDrop=function(e,t,i,n,r){return D(e,t,i,n,r)},e}();function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i.d(t,"default",function(){return R}),i.d(t,"DesignerApp",function(){return R});var R=function(e){var t,i;function c(t){var i={id:"designer",version:"1.0.0",debug:!1,router:n.c,start:"/top/project.all"};return e.call(this,A({},i,t))||this}return i=e,(t=c).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,c.prototype.Init=function(e,t){var i;this.setService("backend",t),this.setService("auth",new r(t.data.rights,t.data.user,t.reset)),this.setService("data",function(e){var t,i,n,r,o=e.getService("backend"),s="",l={},c=new webix.DataCollection({save:{url:o.api.data.save,updateFromResponse:!0}}),u=webix.dp(c);function d(t,i){var n=p(t);i&&u.ignore(function(){return c.updateItem(i.id,i)}),e.callEvent("onDataUpdate",[n])}function h(t){s=t,e.callEvent("onStylesUpdate",[t])}function p(e){e=e||c.serialize();for(var t={},i=0;i<e.length;i++)t[e[i].id]=JSON.parse(e[i].json);return t}return a({data:c,reset:function(){r=t=null,c.clearAll()},getProject:function(){return t},trackProject:function(e){return e===t&&r?r.then(function(){return c}):(t=e,window.remote.active.then(function(){i&&(i=window.remote.detachEvent(i)),n&&(n=window.remote.detachEvent(n)),i=window.remote.attachEvent("data-"+t,function(e){return d(e.data,e.obj)}),n=window.remote.attachEvent("styles-"+t,function(e){return h(e)})}),o.api.project.getStyles(t).then(function(e){return h(e)}),(r=o.api.data.getAll({project:t})).then(function(e){c.clearAll(),c.parse(e),l={};for(var t=0;t<e.length;t++)e[t].default&&(l[e[t].default]=e[t].id);return d(e),c}))},getStyles:function(){return s},getDataSources:p,getDefaultConfig:function(){return l}},o.api.data)}(this)),this.setService("views",o({onChange:function(e,t,n){e.on(i,"view-"+t,function(e){return n(e)})}},(i=this.getService("backend")).api.view)),this.setService("rooms",function(e){return{getRoom:function(t,i){return new s(e,t,i)}}}(this)),this.setService("projects",function(e){var t=e.getService("backend"),i=new webix.DataCollection({save:{url:t.api.project.save,updateFromResponse:!0},scheme:{$change:function(e){if(e.updated){e.updated=new Date(e.updated);var t=webix.Date.dateToStr("%d.%m.%y at %H:%i");e.updatedStr=t(e.updated)}else e.updated="",e.updatedStr=""}}});return l({data:i,refresh:function(){return t.api.project.getAll().then(function(e){return i.clearAll(),i.parse(e),i})}},t.api.project)}(this)),this.setService("settings",function(e){return{user:e.getService("backend").api.user}}(this));var n=new P(this);this.setService("TreeRules",n),this.setService("undo",function(e,t){var i,n,r,a=t.getEditor(),o={},s=!1;function l(e){return webix.copy(e)}function c(t,a){s||(d()&&(o[i].state=r=r.slice(0,n)),r[n]={code:l(t),skin:a},n++,e.callEvent("onUndoChange"))}function u(){return n>1}function d(){return r&&n<r.length}return{track:function(s){i&&o[i]&&(o[i].index=n),o[i=s]?(r=o[i].state,n=o[i].index):(r=[],n=0,o[i]={state:r},c(a.getUI(),t.getSkin())),e.callEvent("onUndoChange")},undo:function(){if(u()){if(s=!0,--n>0){var i=r[n-1];a.loadConfig(l(i.code)),t.setSkin(i.skin)}s=!1,e.callEvent("onUndoChange",[!0])}},redo:function(){if(d()){s=!0;var i=r[++n-1];a.loadConfig(l(i.code)),t.setSkin(i.skin),s=!1,e.callEvent("onUndoChange",[!0])}},push:c,hasRedo:d,hasUndo:u}}(this,n)),this.render(e)},c}(n.a)}])});